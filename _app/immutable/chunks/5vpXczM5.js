import{X as Y,am as R,an as D,a5 as x,a4 as z,F as M,ao as N,a1 as C,ap as k,aq as H,ar as P,as as T,d as y,s as q,a as j,k as g,at as $,au as B,av as F,aw as W,ax as X,ay as G,e as J,f as K,h as S,aj as Q,l as U,a0 as Z,al as ee,Y as m,n as te,az as re}from"./D-v4zxwB.js";const ae=["touchstart","touchmove"];function se(e){return ae.includes(e)}const ne=new Set,A=new Set;function w(e){var t=this,a=t.ownerDocument,n=e.type,f=e.composedPath?.()||[],r=f[0]||e.target,l=0,o=e.__root;if(o){var c=f.indexOf(o);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var s=f.indexOf(t);if(s===-1)return;c<=s&&(l=c)}if(r=f[l]||e.target,r!==t){Y(e,"currentTarget",{configurable:!0,get(){return r||a}});var E=z,d=M;R(null),D(null);try{for(var i,u=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var _=r["__"+n];if(_!=null&&(!r.disabled||e.target===r))if(x(_)){var[L,...V]=_;L.apply(r,[e,...V])}else _.call(r,e)}catch(v){i?u.push(v):i=v}if(e.cancelBubble||h===t||h===null)break;r=h}if(i){for(let v of u)queueMicrotask(()=>{throw v});throw i}}finally{e.__root=t,delete e.currentTarget,R(E),D(d)}}}function fe(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function ie(e,t){return I(e,t)}function ce(e,t){N(),t.intro=t.intro??!1;const a=t.target,n=S,f=g;try{for(var r=C(a);r&&(r.nodeType!==k||r.data!==H);)r=P(r);if(!r)throw T;y(!0),q(r),j();const l=I(e,{...t,anchor:r});if(g===null||g.nodeType!==k||g.data!==$)throw B(),T;return y(!1),l}catch(l){if(l===T)return t.recover===!1&&F(),N(),W(a),y(!1),ie(e,t);throw l}finally{y(n),q(f)}}const b=new Map;function I(e,{target:t,anchor:a,props:n={},events:f,context:r,intro:l=!0}){N();var o=new Set,c=d=>{for(var i=0;i<d.length;i++){var u=d[i];if(!o.has(u)){o.add(u);var h=se(u);t.addEventListener(u,w,{passive:h});var _=b.get(u);_===void 0?(document.addEventListener(u,w,{passive:h}),b.set(u,1)):b.set(u,_+1)}}};c(X(ne)),A.add(c);var s=void 0,E=G(()=>{var d=a??t.appendChild(J());return K(()=>{if(r){Q({});var i=U;i.c=r}f&&(n.$$events=f),S&&Z(d,null),s=e(d,n)||{},S&&(M.nodes_end=g),r&&ee()}),()=>{for(var i of o){t.removeEventListener(i,w);var u=b.get(i);--u===0?(document.removeEventListener(i,w),b.delete(i)):b.set(i,u)}A.delete(c),d!==a&&d.parentNode?.removeChild(d)}});return O.set(s,E),s}let O=new WeakMap;function le(e,t){const a=O.get(e);return a?(O.delete(e),a(t)):Promise.resolve()}function oe(e,t,a){if(e==null)return t(void 0),m;const n=te(()=>e.subscribe(t,a));return n.unsubscribe?()=>n.unsubscribe():n}const p=[];function de(e,t=m){let a=null;const n=new Set;function f(o){if(re(e,o)&&(e=o,a)){const c=!p.length;for(const s of n)s[1](),p.push(s,e);if(c){for(let s=0;s<p.length;s+=2)p[s][0](p[s+1]);p.length=0}}}function r(o){f(o(e))}function l(o,c=m){const s=[o,c];return n.add(s),n.size===1&&(a=t(f,r)||m),o(e),()=>{n.delete(s),n.size===0&&a&&(a(),a=null)}}return{set:f,update:r,subscribe:l}}function _e(e){let t;return oe(e,a=>t=a)(),t}export{fe as a,_e as g,ce as h,ie as m,oe as s,le as u,de as w};
