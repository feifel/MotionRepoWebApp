import"../chunks/DsnmJJEf.js";import"../chunks/Q_UR_ltu.js";import{s as T,e as ae,o as _e}from"../chunks/DMix97Y1.js";import{p as J,f as g,d as w,a1 as k,_ as b,s as P,r as m,b as c,c as O,t as N,l as n,a as H,aS as ke,ag as o,A as L,aq as re,m as be}from"../chunks/DkSlEKLF.js";import{i as A}from"../chunks/DR9kWPJI.js";import{e as ne,i as ce}from"../chunks/DJrF9YgH.js";import{i as Z}from"../chunks/BN1ixJJB.js";import{a as we}from"../chunks/Dkw99rV-.js";import{F as de,S as Ce,M as oe}from"../chunks/BP836y0s.js";import{s as le}from"../chunks/D5c6cWyZ.js";import{p as R}from"../chunks/e_GyjuQh.js";import{s as Fe}from"../chunks/Ci8bGRdL.js";var Se=g('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Be=g('<div class="body svelte-1s84j4"><!> <!></div>');function $e(W,y){J(y,!1);let e=R(y,"workout",12),C=[{id:"description",type:"textarea",label:"Description",values:[e().description||"N/A"]},{id:"file",type:"text",label:"File",values:[e().file||"N/A"]},{id:"categories",type:"tags",label:"Categories",values:e().categories||[]}];function d(r){r.forEach(s=>{switch(s.id){case"description":e(e().description=s.values[0]||"",!0);break;case"file":e(e().file=s.values[0]||"",!0);break;case"categories":e(e().categories=s.values,!0);break}}),console.log("Workout updated:",e()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(e(),null,2))}Z();var u=Be(),f=w(u);{var F=r=>{var s=Se(),S=w(s);m(s),N(()=>{le(S,"src",(k(e()),b(()=>e().screenshot))),le(S,"alt",(k(e()),b(()=>`[image of '${e().name||"Workout"}' is missing]`)))}),c(r,s)};A(f,r=>{k(e()),b(()=>e().screenshot)&&r(F)})}var a=P(f,2);de(a,{get rows(){return C},readonly:!1,onSubmit:d}),m(u),c(W,u),O()}var Ae=g('<div class="body svelte-1bsh2eg"><!></div>');function We(W,y){J(y,!1);let e=R(y,"onFilter",8),C=R(y,"selectedFilters",8),d=[{id:"difficulty",type:"tags",label:"Difficulty",values:C().filter(a=>a.startsWith("difficulty:")).map(a=>a.replace("difficulty:","")),options:["Beginner","Intermediate","Advanced"]},{id:"categories",type:"tags",label:"Categories",values:C().filter(a=>a.startsWith("category:")).map(a=>a.replace("category:","")),options:["Full Body","Upper Body","Lower Body","Core","Cardio","Strength"]}];function u(a){const r=[];a.forEach(s=>{s.id==="categories"?r.push(...(s.values||[]).map(S=>`category:${S}`)):s.id==="difficulty"&&r.push(...(s.values||[]).map(S=>`difficulty:${S}`))}),e()(r)}Z();var f=Ae(),F=w(f);de(F,{get rows(){return d},onSubmit:a=>u(a),readonly:!1}),m(f),c(W,f),O()}var xe=g("<span> </span>"),Le=g('<span class="tag svelte-jz40ls"> </span>'),Pe=g('<span class="tag svelte-jz40ls"> </span>'),je=g('<div class="categories svelte-jz40ls"></div>'),ze=g('<div class="result-card svelte-jz40ls" tabindex="0" role="button"><h3 class="svelte-jz40ls"> </h3> <p class="svelte-jz40ls"> </p> <div class="workout-meta svelte-jz40ls"><!> <!></div> <!></div>');function De(W,y){J(y,!1);let e=R(y,"workout",8),C=R(y,"onClick",8);Z();var d=ze(),u=w(d),f=w(u,!0);m(u);var F=P(u,2),a=w(F,!0);m(F);var r=P(F,2),s=w(r);{var S=l=>{var v=xe(),$=w(v,!0);m(v),N(j=>{Fe(v,1,`tag difficulty-${j??""}`,"svelte-jz40ls"),T($,(k(e()),b(()=>e().difficulty)))},[()=>(k(e()),b(()=>e().difficulty.toLowerCase()))]),c(l,v)};A(s,l=>{k(e()),b(()=>e().difficulty)&&l(S)})}var K=P(s,2);{var E=l=>{var v=Le(),$=w(v);m(v),N(()=>T($,`${k(e()),b(()=>e().duration)??""} min`)),c(l,v)};A(K,l=>{k(e()),b(()=>e().duration)&&l(E)})}m(r);var Q=P(r,2);{var Y=l=>{var v=je();ne(v,5,()=>(k(e()),b(()=>e().categories)),ce,($,j)=>{var I=Pe(),G=w(I,!0);m(I),N(()=>T(G,n(j))),c($,I)}),m(v),c(l,v)};A(Q,l=>{k(e()),b(()=>e().categories&&e().categories.length>0)&&l(Y)})}m(d),N(()=>{T(f,(k(e()),b(()=>e().name||"Unnamed Workout"))),T(a,(k(e()),b(()=>e().description||"No description available.")))}),ae("click",d,()=>C()(e())),ae("keydown",d,l=>l.key==="Enter"&&C()(e())),c(W,d),O()}var Me=g('<div class="loading svelte-107itfz">Loading workouts...</div>'),qe=g('<div class="error svelte-107itfz"> </div>'),Te=g('<div class="no-results svelte-107itfz">No workouts found.</div>'),Ne=g('<div class="result-grid"><!></div>'),Ee=g("<!> <!> <!>",1);function Xe(W,y){J(y,!1);let e=L([]),C=[],d=L(!0),u=L(null),f=L(null),F=L(!1),a=L(!1),r=L([]),s="";async function S(t="",B=0,h=20){try{o(d,!0),o(u,null);const _=new URLSearchParams;t&&_.append("search",t),B&&_.append("offset",B.toString()),h&&_.append("limit",h.toString());const p=await we(`/workouts?${_}`);return Array.isArray(p)?p:p.workouts||p.items||p.data||[]}catch(_){return console.error("Error fetching workouts:",_),[{id:"1",name:"Full Body Strength",description:"A comprehensive full body workout focusing on strength building",difficulty:"Intermediate",duration:45,equipment:["Dumbbells","Barbell","Bench"],bodyParts:["Chest","Back","Legs","Shoulders","Arms"],muscleGroups:["Pectorals","Latissimus Dorsi","Quadriceps","Deltoids","Biceps","Triceps"],categories:["Strength","Full Body"],exercises:["Bench Press","Squats","Deadlifts","Shoulder Press","Bicep Curls"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-15T10:00:00Z",createdBy:"trainer1"},{id:"2",name:"HIIT Cardio Blast",description:"High-intensity interval training for maximum calorie burn",difficulty:"Advanced",duration:30,equipment:["None"],bodyParts:["Full Body"],muscleGroups:["Core","Legs","Glutes"],categories:["Cardio","HIIT"],exercises:["Burpees","Mountain Climbers","Jump Squats","High Knees","Plank Jacks"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-16T10:00:00Z",createdBy:"trainer2"},{id:"3",name:"Beginner Core Routine",description:"Gentle introduction to core strengthening exercises",difficulty:"Beginner",duration:20,equipment:["Yoga Mat"],bodyParts:["Core","Abs"],muscleGroups:["Rectus Abdominis","Obliques","Transverse Abdominis"],categories:["Core","Beginner"],exercises:["Plank","Crunches","Russian Twists","Leg Raises","Bird Dog"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-17T10:00:00Z",createdBy:"trainer1"}].filter(p=>!t||p.name?.toLowerCase().includes(t.toLowerCase())||p.description?.toLowerCase().includes(t.toLowerCase())||p.categories?.some(x=>x.toLowerCase().includes(t.toLowerCase())))}finally{o(d,!1)}}function K(t,B,h){const _=B.toLowerCase(),p=h.filter(i=>i.startsWith("category:")).map(i=>i.replace("category:","")),x=h.filter(i=>i.startsWith("difficulty:")).map(i=>i.replace("difficulty:",""));return t.filter(i=>{const z=!B||(i.name?.toLowerCase().includes(_)??!1)||(i.description?.toLowerCase().includes(_)??!1),V=p.length===0||p.every(ee=>i.categories?.includes(ee)??!1),X=x.length===0||x.includes(i.difficulty??"");return z&&V&&X})}async function E(){o(d,!0),o(u,null);try{C.length===0&&(C=await S()),o(e,K(C,s,n(r)))}catch(t){o(u,t.message)}finally{o(d,!1)}}async function Q(t){s=t,await E()}function Y(t){o(f,t),o(F,!0)}function l(){o(F,!1),o(f,null)}function v(){o(a,!0)}function $(){o(a,!1)}function j(t){o(r,t),$(),E()}function I(t){t.key==="Escape"&&(l(),$())}_e(async()=>{await E()}),Z();var G=Ee();ae("keydown",ke,I);var se=H(G);Ce(se,{title:"Workouts",description:"Browse and search for workouts.",onSearch:Q,onFilterClick:v,get selectedFilters(){return n(r)},set selectedFilters(t){o(r,t)},$$events:{filterChanged:t=>{o(r,t.detail),j(t.detail)}},children:(t,B)=>{var h=Ne(),_=w(h);{var p=i=>{var z=Me();c(i,z)},x=i=>{var z=re(),V=H(z);{var X=D=>{var M=qe(),te=w(M);m(M),N(()=>T(te,`Error: ${n(u)??""}`)),c(D,M)},ee=D=>{var M=re(),te=H(M);{var pe=q=>{var U=Te();c(q,U)},me=q=>{var U=re(),ge=H(U);ne(ge,1,()=>n(e),ce,(ye,he)=>{De(ye,{get workout(){return n(he)},onClick:Y})}),c(q,U)};A(te,q=>{n(e).length===0?q(pe):q(me,!1)},!0)}c(D,M)};A(V,D=>{n(u)?D(X):D(ee,!1)},!0)}c(i,z)};A(_,i=>{n(d)?i(p):i(x,!1)})}m(h),c(t,h)},$$slots:{default:!0},$$legacy:!0});var ie=P(se,2);{var ue=t=>{{let B=be(()=>n(f).name??"Unknown");oe(t,{get title(){return n(B)},$$events:{close:l},children:(h,_)=>{$e(h,{get workout(){return n(f)}})},$$slots:{default:!0}})}};A(ie,t=>{n(F)&&n(f)&&t(ue)})}var fe=P(ie,2);{var ve=t=>{oe(t,{title:"Filter Workouts",$$events:{close:$},children:(B,h)=>{We(B,{get selectedFilters(){return n(r)},onFilter:j})},$$slots:{default:!0}})};A(fe,t=>{n(a)&&t(ve)})}c(W,G),O()}export{Xe as component};
