import"../chunks/DsnmJJEf.js";import"../chunks/BgOBoQOY.js";import{o as Qe,e as se,s as k}from"../chunks/DH41gyba.js";import{p as oe,f as c,d as v,a1 as te,_ as re,s as y,r as n,b as i,c as ne,t as M,a as I,ar as Ye,ag as m,l as e,A as J,aq as le,m as Oe}from"../chunks/CUN5SctD.js";import{i as h}from"../chunks/BxYTVEg2.js";import{e as W,i as D}from"../chunks/iAZ-NaeV.js";import{i as ce}from"../chunks/CWXmR2Hr.js";import{a as ze}from"../chunks/Dkw99rV-.js";import{F as Se,S as Ve,M as qe}from"../chunks/CONv8jVj.js";import{s as xe}from"../chunks/BOs7UOPn.js";import{p as ie}from"../chunks/CxT5fEoY.js";var Ze=c('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),ea=c('<div class="body svelte-1s84j4"><!> <!></div>');function aa(K,P){oe(P,!1);let a=ie(P,"motion",12),L=[{id:"description",type:"textarea",label:"Description",values:[a().description||"N/A"]},{id:"file",type:"text",label:"File",values:[a().file||"N/A"]},{id:"fileType",type:"text",label:"File Type",values:[a().fileType||"N/A"]},{id:"level",type:"enum",label:"Level",values:["intermediate"],options:["beginner","intermediate","advanced"]},{id:"equipment",type:"tags",label:"Equipment",values:a().equipment||[],options:["KettleBell","Dumbbell"]},{id:"bodyParts",type:"tags",label:"Body Parts",values:a().bodyParts||[]},{id:"muscleGroups",type:"tags",label:"Muscle Groups",values:a().muscleGroups||[]},{id:"categories",type:"tags",label:"Categories",values:a().categories||[]},{id:"primaryJoints",type:"tags",label:"Primary Joints",values:a().primaryJoints||[]},{id:"labels",type:"tags",label:"Labels",values:a().labels||[]}];function $(u){u.forEach(o=>{switch(o.id){case"description":a(a().description=o.values[0]||"",!0);break;case"file":a(a().file=o.values[0]||"",!0);break;case"fileType":a(a().fileType=o.values[0]||"",!0);break;case"level":const C={beginner:1,intermediate:2,advanced:3};a(a().level=C[o.values[0]]||2,!0);break;case"equipment":a(a().equipment=o.values,!0);break;case"bodyParts":a(a().bodyParts=o.values,!0);break;case"muscleGroups":a(a().muscleGroups=o.values,!0);break;case"categories":a(a().categories=o.values,!0);break;case"primaryJoints":a(a().primaryJoints=o.values,!0);break;case"labels":a(a().labels=o.values,!0);break}}),console.log("Motion updated:",a()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(a(),null,2))}ce();var x=ea(),F=v(x);{var E=u=>{var o=Ze(),C=v(o);n(o),M(()=>{xe(C,"src",(te(a()),re(()=>a().screenshot))),xe(C,"alt",(te(a()),re(()=>`[image of '${a().name||"Avatar"}' is missing]`)))}),i(u,o)};h(F,u=>{te(a()),re(()=>a().screenshot)&&u(E)})}var p=y(F,2);Se(p,{get rows(){return L},readonly:!1,onSubmit:$}),n(x),i(K,x),ne()}var sa=c('<div class="body svelte-1bsh2eg"><!></div>');function ta(K,P){oe(P,!1);let a=ie(P,"onFilter",8),L=ie(P,"selectedFilters",8),$=[{id:"level",type:"tags",label:"Level",values:L().filter(p=>p.startsWith("level:")).map(p=>p.replace("level:","")),options:["Beginner","Intermediate","Advanced","Expert"]},{id:"categories",type:"tags",label:"Categories",values:L().filter(p=>p.startsWith("category:")).map(p=>p.replace("category:","")),options:["Warm-up","Cool-down","Cardio","Strength","Flexibility","Balance"]}];function x(p){const u=[];p.forEach(o=>{o.id==="categories"?u.push(...(o.values||[]).map(C=>`category:${C}`)):o.id==="level"&&u.push(...(o.values||[]).map(C=>`level:${C}`))}),a()(u)}ce();var F=sa(),E=v(F);Se(E,{get rows(){return $},onSubmit:p=>x(p),readonly:!1}),n(F),i(K,F),ne()}var ra=c('<div class="loading">Loading motions...</div>'),la=c('<div class="error"> </div>'),ia=c('<div class="no-results">No motions found.</div>'),oa=c('<span class="file-type svelte-qs2apu"> </span>'),na=c('<span class="level svelte-qs2apu"> </span>'),ca=c('<span class="file-name svelte-qs2apu"> </span>'),va=c('<span class="category svelte-qs2apu"> </span>'),da=c('<div class="categories svelte-qs2apu"></div>'),pa=c('<span class="body-part svelte-qs2apu"> </span>'),ua=c('<div class="body-parts svelte-qs2apu"><strong class="svelte-qs2apu">Body Parts:</strong> <!></div>'),ma=c('<span class="muscle-group svelte-qs2apu"> </span>'),ga=c('<div class="muscle-groups svelte-qs2apu"><strong class="svelte-qs2apu">Muscle Groups:</strong> <!></div>'),fa=c('<span class="equip svelte-qs2apu"> </span>'),ya=c('<div class="equipment svelte-qs2apu"><strong class="svelte-qs2apu">Equipment:</strong> <!></div>'),ha=c('<span class="label svelte-qs2apu"> </span>'),ba=c('<div class="labels svelte-qs2apu"></div>'),_a=c('<div class="result-card" role="button" tabindex="0"><h3> </h3> <p> </p> <div class="motion-details svelte-qs2apu"><!> <!> <!></div> <!> <!> <!> <!> <!></div>'),Fa=c('<div class="result-grid svelte-qs2apu"><!></div>'),qa=c("<!> <!> <!>",1);function Ga(K,P){oe(P,!1);let a=J([]),L=[],$=J(!0),x=J(null),F=J(null),E=J(!1),p=J(!1),u=J([]),o="";async function C(r="",w=0,q=20){try{m($,!0),m(x,null);const b=new URLSearchParams;r&&b.append("search",r),w&&b.append("offset",w.toString()),q&&b.append("limit",q.toString()),console.log("Fetching motions with params:",b.toString());const S=await ze(`/motions?${b}`);console.log("Received motions data:",S);const T=Array.isArray(S)?S:S.motions||S.items||S.data||[];return console.log("Processed motions array:",T),T}catch(b){return console.error("Error fetching motions:",b),console.warn("Using mock data for development"),[{id:"1",name:"Walking Motion",description:"Natural walking cycle for human characters",file:"walking_motion.fbx",fileType:"FBX",level:1,equipment:["None"],bodyParts:["Legs","Arms","Core"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes"],categories:["Locomotion","Basic"],primaryJoints:["Hip","Knee","Ankle","Shoulder"],labels:["natural","locomotion","cycle","human"],screenshot:"/api/placeholder/400/300"},{id:"2",name:"Running Sprint",description:"High-intensity sprinting motion for athletic characters",file:"running_sprint.fbx",fileType:"FBX",level:3,equipment:["Running Shoes"],bodyParts:["Legs","Arms","Core","Full Body"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes","Core"],categories:["Locomotion","Athletic","High Intensity"],primaryJoints:["Hip","Knee","Ankle","Elbow","Shoulder"],labels:["sprint","athletic","high-energy","sport"],screenshot:"/api/placeholder/400/300"},{id:"3",name:"Boxing Jab Cross",description:"Basic boxing combination with jab and cross punches",file:"boxing_combo.fbx",fileType:"FBX",level:2,equipment:["Boxing Gloves"],bodyParts:["Arms","Shoulders","Core","Legs"],muscleGroups:["Deltoids","Biceps","Triceps","Core","Legs"],categories:["Combat","Upper Body","Athletic"],primaryJoints:["Shoulder","Elbow","Wrist","Hip","Knee"],labels:["boxing","combat","striking","combination"],screenshot:"/api/placeholder/400/300"},{id:"4",name:"Yoga Sun Salutation",description:"Flowing yoga sequence connecting breath with movement",file:"yoga_sun_salutation.fbx",fileType:"FBX",level:2,equipment:["Yoga Mat"],bodyParts:["Full Body","Arms","Legs","Core"],muscleGroups:["Full Body","Core","Shoulders","Legs"],categories:["Yoga","Flexibility","Wellness"],primaryJoints:["Spine","Shoulder","Hip","Knee","Ankle"],labels:["yoga","flow","wellness","flexibility"],screenshot:"/api/placeholder/400/300"}]}}function ke(r,w,q){const b=w.toLowerCase(),S=q.filter(d=>d.startsWith("category:")).map(d=>d.replace("category:","")),T=q.filter(d=>d.startsWith("level:")).map(d=>d.replace("level:",""));return r.filter(d=>{const N=!w||(d.name?.toLowerCase().includes(b)??!1)||(d.description?.toLowerCase().includes(b)??!1),O=S.length===0||S.every(B=>d.categories?.includes(B)??!1),z={Beginner:1,Intermediate:2,Advanced:3,Expert:4},j=T.map(B=>z[B]).filter(Boolean),G=j.length===0||j.includes(d.level??0);return N&&O&&G})}async function Q(){m($,!0),m(x,null);try{L.length===0&&(L=await C()),m(a,ke(L,o,e(u)))}catch(r){m(x,r.message)}finally{m($,!1)}}async function Me(r){o=r,await Q()}function ve(r){m(F,r),m(E,!0)}function de(){m(E,!1),m(F,null)}function Ce(){m(p,!0)}function Y(){m(p,!1)}function pe(r){m(u,r),Y(),Q()}function we(r){r.key==="Escape"&&(de(),Y())}Qe(async()=>{await Q()}),ce();var ue=qa();se("keydown",Ye,we);var me=I(ue);Ve(me,{title:"Motions",description:"Browse and search for motions.",onSearch:Me,onFilterClick:Ce,get selectedFilters(){return e(u)},set selectedFilters(r){m(u,r)},$$events:{filterChanged:r=>{m(u,r.detail),pe(r.detail)}},children:(r,w)=>{var q=Fa(),b=v(q);{var S=d=>{var N=ra();i(d,N)},T=d=>{var N=le(),O=I(N);{var z=G=>{var B=la(),V=v(B);n(B),M(()=>k(V,`Error: ${e(x)??""}`)),i(G,B)},j=G=>{var B=le(),V=I(B);{var Le=H=>{var X=ia();i(H,X)},$e=H=>{var X=le(),Ge=I(X);W(Ge,1,()=>e(a),D,(Ee,l)=>{var U=_a(),Z=v(U),Je=v(Z,!0);n(Z);var ee=y(Z,2),Te=v(ee,!0);n(ee);var ae=y(ee,2),fe=v(ae);{var Ne=s=>{var t=oa(),g=v(t,!0);n(t),M(()=>k(g,e(l).fileType)),i(s,t)};h(fe,s=>{e(l).fileType&&s(Ne)})}var ye=y(fe,2);{var He=s=>{var t=na(),g=v(t);n(t),M(()=>k(g,`Level ${e(l).level??""}`)),i(s,t)};h(ye,s=>{e(l).level!==void 0&&s(He)})}var We=y(ye,2);{var De=s=>{var t=ca(),g=v(t,!0);n(t),M(()=>k(g,e(l).file)),i(s,t)};h(We,s=>{e(l).file&&s(De)})}n(ae);var he=y(ae,2);{var Ke=s=>{var t=da();W(t,5,()=>e(l).categories,D,(g,A)=>{var _=va(),f=v(_,!0);n(_),M(()=>k(f,e(A))),i(g,_)}),n(t),i(s,t)};h(he,s=>{e(l).categories&&e(l).categories.length>0&&s(Ke)})}var be=y(he,2);{var Ue=s=>{var t=ua(),g=y(v(t),2);W(g,1,()=>e(l).bodyParts,D,(A,_)=>{var f=pa(),R=v(f,!0);n(f),M(()=>k(R,e(_))),i(A,f)}),n(t),i(s,t)};h(be,s=>{e(l).bodyParts&&e(l).bodyParts.length>0&&s(Ue)})}var _e=y(be,2);{var Re=s=>{var t=ga(),g=y(v(t),2);W(g,1,()=>e(l).muscleGroups,D,(A,_)=>{var f=ma(),R=v(f,!0);n(f),M(()=>k(R,e(_))),i(A,f)}),n(t),i(s,t)};h(_e,s=>{e(l).muscleGroups&&e(l).muscleGroups.length>0&&s(Re)})}var Fe=y(_e,2);{var je=s=>{var t=ya(),g=y(v(t),2);W(g,1,()=>e(l).equipment,D,(A,_)=>{var f=fa(),R=v(f,!0);n(f),M(()=>k(R,e(_))),i(A,f)}),n(t),i(s,t)};h(Fe,s=>{e(l).equipment&&e(l).equipment.length>0&&s(je)})}var Xe=y(Fe,2);{var Ie=s=>{var t=ba();W(t,5,()=>e(l).labels,D,(g,A)=>{var _=ha(),f=v(_,!0);n(_),M(()=>k(f,e(A))),i(g,_)}),n(t),i(s,t)};h(Xe,s=>{e(l).labels&&e(l).labels.length>0&&s(Ie)})}n(U),M(()=>{k(Je,e(l).name||"Unnamed Motion"),k(Te,e(l).description||"No description available.")}),se("click",U,()=>ve(e(l))),se("keydown",U,s=>s.key==="Enter"&&ve(e(l))),i(Ee,U)}),i(H,X)};h(V,H=>{e(a).length===0?H(Le):H($e,!1)},!0)}i(G,B)};h(O,G=>{e(x)?G(z):G(j,!1)},!0)}i(d,N)};h(b,d=>{e($)?d(S):d(T,!1)})}n(q),i(r,q)},$$slots:{default:!0},$$legacy:!0});var ge=y(me,2);{var Be=r=>{{let w=Oe(()=>e(F).name??"Unknown");qe(r,{get title(){return e(w)},$$events:{close:de},children:(q,b)=>{aa(q,{get motion(){return e(F)}})},$$slots:{default:!0}})}};h(ge,r=>{e(E)&&e(F)&&r(Be)})}var Ae=y(ge,2);{var Pe=r=>{qe(r,{title:"Filter Motions",$$events:{close:Y},children:(w,q)=>{ta(w,{get selectedFilters(){return e(u)},onFilter:pe})},$$slots:{default:!0}})};h(Ae,r=>{e(p)&&r(Pe)})}i(K,ue),ne()}export{Ga as component};
