import"../chunks/DsnmJJEf.js";import"../chunks/wg71yvV_.js";import{c as Ee,e as Q,s as g,o as Me}from"../chunks/BiNhk7mX.js";import{p as Pe,f as v,an as Te,d as t,r as s,s as l,a1 as c,_ as p,t as x,b as n,c as qe,l as i,a as fe,ad as G,A as re,ao as Se}from"../chunks/BEEOVbQE.js";import{i as h}from"../chunks/16RbiagO.js";import{e as B,i as P}from"../chunks/DNWkYjzw.js";import{i as Ce}from"../chunks/Bt_jEhOg.js";import{a as De}from"../chunks/Dkw99rV-.js";import{S as Je}from"../chunks/w1TrZi6F.js";import{s as Be}from"../chunks/BVa_AGYl.js";import{p as He}from"../chunks/N2umxR2V.js";var Ke=v('<div class="screenshot-container svelte-r2dxp"><img class="screenshot svelte-r2dxp"/></div>'),Ue=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Description</h3> <p> </p></section>'),Ne=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">File Type:</span> <span class="value svelte-r2dxp"> </span></div>'),Re=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">Level:</span> <span class="value svelte-r2dxp"> </span></div>'),Xe=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">File Name:</span> <span class="value svelte-r2dxp"> </span></div>'),ze=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">File Size:</span> <span class="value svelte-r2dxp"> </span></div>'),Ie=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">Duration:</span> <span class="value svelte-r2dxp"> </span></div>'),We=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">Upload Date:</span> <span class="value svelte-r2dxp"> </span></div>'),Ye=v('<div class="info-item svelte-r2dxp"><span class="label svelte-r2dxp">Author:</span> <span class="value svelte-r2dxp"> </span></div>'),Qe=v('<span class="tag svelte-r2dxp"> </span>'),je=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Equipment</h3> <div class="tag-list svelte-r2dxp"></div></section>'),Oe=v('<span class="tag svelte-r2dxp"> </span>'),Ve=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Body Parts</h3> <div class="tag-list svelte-r2dxp"></div></section>'),Ze=v('<span class="tag svelte-r2dxp"> </span>'),ea=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Muscle Groups</h3> <div class="tag-list svelte-r2dxp"></div></section>'),aa=v('<span class="tag svelte-r2dxp"> </span>'),sa=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Categories</h3> <div class="tag-list svelte-r2dxp"></div></section>'),ra=v('<span class="tag svelte-r2dxp"> </span>'),ta=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Primary Joints</h3> <div class="tag-list svelte-r2dxp"></div></section>'),oa=v('<span class="tag svelte-r2dxp"> </span>'),ia=v('<section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Labels</h3> <div class="tag-list svelte-r2dxp"></div></section>'),la=v('<div class="modal-backdrop svelte-r2dxp" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-r2dxp"><div class="modal-header svelte-r2dxp"><h1 class="svelte-r2dxp"> </h1> <button class="close-button svelte-r2dxp" aria-label="Close modal">&times;</button></div> <div class="modal-body svelte-r2dxp"><!> <div class="info-grid svelte-r2dxp"><!> <section class="info-section svelte-r2dxp"><h3 class="svelte-r2dxp">Basic Information</h3> <div class="info-list svelte-r2dxp"><!> <!> <!> <!> <!> <!> <!></div></section> <!> <!> <!> <!> <!> <!></div></div></div></div>');function na(he,te){Pe(te,!1);let e=He(te,"motion",8);const j=Ee();function H(){j("close")}function R(a){a.target===a.currentTarget&&H()}function K(a){a.key==="Escape"&&H()}Ce();var A=la();Q("keydown",Te,K);var oe=t(A),X=t(oe),z=t(X),ie=t(z,!0);s(z);var le=l(z,2);s(X);var O=l(X,2),ne=t(O);{var xe=a=>{var r=Ke(),o=t(r);s(r),x(()=>{Be(o,"src",(c(e()),p(()=>e().screenshot))),Be(o,"alt",(c(e()),p(()=>e().name||"Motion screenshot")))}),n(a,r)};h(ne,a=>{c(e()),p(()=>e().screenshot)&&a(xe)})}var y=l(ne,2),I=t(y);{var F=a=>{var r=Ue(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(()=>g(u,(c(e()),p(()=>e().description)))),n(a,r)};h(I,a=>{c(e()),p(()=>e().description)&&a(F)})}var $=l(I,2),q=l(t($),2),U=t(q);{var E=a=>{var r=Ne(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(()=>g(u,(c(e()),p(()=>e().fileType)))),n(a,r)};h(U,a=>{c(e()),p(()=>e().fileType)&&a(E)})}var N=l(U,2);{var ge=a=>{var r=Re(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(()=>g(u,(c(e()),p(()=>e().level)))),n(a,r)};h(N,a=>{c(e()),p(()=>e().level!==void 0)&&a(ge)})}var ve=l(N,2);{var me=a=>{var r=Xe(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(()=>g(u,(c(e()),p(()=>e().file)))),n(a,r)};h(ve,a=>{c(e()),p(()=>e().file)&&a(me)})}var C=l(ve,2);{var T=a=>{var r=ze(),o=l(t(r),2),u=t(o);s(o),s(r),x(()=>g(u,`${c(e()),p(()=>e().fileSize)??""} MB`)),n(a,r)};h(C,a=>{c(e()),p(()=>e().fileSize)&&a(T)})}var W=l(C,2);{var ye=a=>{var r=Ie(),o=l(t(r),2),u=t(o);s(o),s(r),x(()=>g(u,`${c(e()),p(()=>e().duration)??""}s`)),n(a,r)};h(W,a=>{c(e()),p(()=>e().duration)&&a(ye)})}var de=l(W,2);{var D=a=>{var r=We(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(b=>g(u,b),[()=>(c(e()),p(()=>new Date(e().uploadDate).toLocaleDateString()))]),n(a,r)};h(de,a=>{c(e()),p(()=>e().uploadDate)&&a(D)})}var Y=l(de,2);{var be=a=>{var r=Ye(),o=l(t(r),2),u=t(o,!0);s(o),s(r),x(()=>g(u,(c(e()),p(()=>e().author)))),n(a,r)};h(Y,a=>{c(e()),p(()=>e().author)&&a(be)})}s(q),s($);var ce=l($,2);{var f=a=>{var r=je(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().equipment)),P,(u,b)=>{var m=Qe(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(ce,a=>{c(e()),p(()=>e().equipment&&e().equipment.length>0)&&a(f)})}var J=l(ce,2);{var V=a=>{var r=Ve(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().bodyParts)),P,(u,b)=>{var m=Oe(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(J,a=>{c(e()),p(()=>e().bodyParts&&e().bodyParts.length>0)&&a(V)})}var pe=l(J,2);{var Z=a=>{var r=ea(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().muscleGroups)),P,(u,b)=>{var m=Ze(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(pe,a=>{c(e()),p(()=>e().muscleGroups&&e().muscleGroups.length>0)&&a(Z)})}var _e=l(pe,2);{var ee=a=>{var r=sa(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().categories)),P,(u,b)=>{var m=aa(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(_e,a=>{c(e()),p(()=>e().categories&&e().categories.length>0)&&a(ee)})}var ae=l(_e,2);{var we=a=>{var r=ta(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().primaryJoints)),P,(u,b)=>{var m=ra(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(ae,a=>{c(e()),p(()=>e().primaryJoints&&e().primaryJoints.length>0)&&a(we)})}var ue=l(ae,2);{var ke=a=>{var r=ia(),o=l(t(r),2);B(o,5,()=>(c(e()),p(()=>e().labels)),P,(u,b)=>{var m=oa(),S=t(m,!0);s(m),x(()=>g(S,i(b))),n(u,m)}),s(o),s(r),n(a,r)};h(ue,a=>{c(e()),p(()=>e().labels&&e().labels.length>0)&&a(ke)})}s(y),s(O),s(oe),s(A),x(()=>g(ie,(c(e()),p(()=>e().name||"Unnamed Motion")))),Q("click",le,H),Q("click",A,R),Q("keydown",A,K),n(he,A),qe()}var va=v('<div class="loading">Loading motions...</div>'),da=v('<div class="error"> </div>'),ca=v('<div class="no-results">No motions found.</div>'),pa=v('<span class="file-type svelte-i4hxy8"> </span>'),_a=v('<span class="level svelte-i4hxy8"> </span>'),ua=v('<span class="file-name svelte-i4hxy8"> </span>'),fa=v('<span class="category svelte-i4hxy8"> </span>'),ha=v('<div class="categories svelte-i4hxy8"></div>'),xa=v('<span class="body-part svelte-i4hxy8"> </span>'),ga=v('<div class="body-parts svelte-i4hxy8"><strong class="svelte-i4hxy8">Body Parts:</strong> <!></div>'),ma=v('<span class="muscle-group svelte-i4hxy8"> </span>'),ya=v('<div class="muscle-groups svelte-i4hxy8"><strong class="svelte-i4hxy8">Muscle Groups:</strong> <!></div>'),ba=v('<span class="equip svelte-i4hxy8"> </span>'),wa=v('<div class="equipment svelte-i4hxy8"><strong class="svelte-i4hxy8">Equipment:</strong> <!></div>'),ka=v('<span class="label svelte-i4hxy8"> </span>'),Sa=v('<div class="labels svelte-i4hxy8"></div>'),$a=v('<div class="result-card" role="button" tabindex="0"><h3> </h3> <p> </p> <div class="motion-details svelte-i4hxy8"><!> <!> <!></div> <!> <!> <!> <!> <!></div>'),Ma=v('<div class="result-grid svelte-i4hxy8"><!></div>'),Ba=v("<!> <!>",1);function Ha(he,te){Pe(te,!1);let e=re([]),j=re(!0),H=re(null),R=re(null),K=re(!1);async function A(y="",I=0,F=20){try{G(j,!0),G(H,null);const $=new URLSearchParams;y&&$.append("search",y),I&&$.append("offset",I.toString()),F&&$.append("limit",F.toString()),console.log("Fetching motions with params:",$.toString());const q=await De(`/motions?${$}`);console.log("Received motions data:",q);const U=Array.isArray(q)?q:q.motions||q.items||q.data||[];return console.log("Processed motions array:",U),U}catch($){return console.error("Error fetching motions:",$),console.warn("Using mock data for development"),[{id:"1",name:"Walking Motion",description:"Natural walking cycle for human characters",file:"walking_motion.fbx",fileType:"FBX",level:1,equipment:["None"],bodyParts:["Legs","Arms","Core"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes"],categories:["Locomotion","Basic"],primaryJoints:["Hip","Knee","Ankle","Shoulder"],labels:["natural","locomotion","cycle","human"],screenshot:"/api/placeholder/400/300"},{id:"2",name:"Running Sprint",description:"High-intensity sprinting motion for athletic characters",file:"running_sprint.fbx",fileType:"FBX",level:3,equipment:["Running Shoes"],bodyParts:["Legs","Arms","Core","Full Body"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes","Core"],categories:["Locomotion","Athletic","High Intensity"],primaryJoints:["Hip","Knee","Ankle","Elbow","Shoulder"],labels:["sprint","athletic","high-energy","sport"],screenshot:"/api/placeholder/400/300"},{id:"3",name:"Boxing Jab Cross",description:"Basic boxing combination with jab and cross punches",file:"boxing_combo.fbx",fileType:"FBX",level:2,equipment:["Boxing Gloves"],bodyParts:["Arms","Shoulders","Core","Legs"],muscleGroups:["Deltoids","Biceps","Triceps","Core","Legs"],categories:["Combat","Upper Body","Athletic"],primaryJoints:["Shoulder","Elbow","Wrist","Hip","Knee"],labels:["boxing","combat","striking","combination"],screenshot:"/api/placeholder/400/300"},{id:"4",name:"Yoga Sun Salutation",description:"Flowing yoga sequence connecting breath with movement",file:"yoga_sun_salutation.fbx",fileType:"FBX",level:2,equipment:["Yoga Mat"],bodyParts:["Full Body","Arms","Legs","Core"],muscleGroups:["Full Body","Core","Shoulders","Legs"],categories:["Yoga","Flexibility","Wellness"],primaryJoints:["Spine","Shoulder","Hip","Knee","Ankle"],labels:["yoga","flow","wellness","flexibility"],screenshot:"/api/placeholder/400/300"}]}}async function oe(y){console.log("Search triggered with query:",y),G(e,await A(y)),console.log("Motions updated after search, length:",i(e).length)}function X(y){G(R,y),G(K,!0)}function z(){G(K,!1),G(R,null)}function ie(y){y.key==="Escape"&&i(K)&&z()}Me(()=>(document.addEventListener("keydown",ie),()=>{document.removeEventListener("keydown",ie)})),Me(async()=>{console.log("Component mounted, fetching initial motions..."),G(e,await A()),G(j,!1),console.log("Initial motions loaded, length:",i(e).length)}),Ce();var le=Ba(),O=fe(le);Je(O,{title:"Motions",description:"Browse and search for motions.",onSearch:oe,children:(y,I)=>{var F=Ma(),$=t(F);{var q=E=>{var N=va();n(E,N)},U=E=>{var N=Se(),ge=fe(N);{var ve=C=>{var T=da(),W=t(T);s(T),x(()=>g(W,`Error: ${i(H)??""}`)),n(C,T)},me=C=>{var T=Se(),W=fe(T);{var ye=D=>{var Y=ca();n(D,Y)},de=D=>{var Y=Se(),be=fe(Y);B(be,1,()=>i(e),P,(ce,f)=>{var J=$a(),V=t(J),pe=t(V,!0);s(V);var Z=l(V,2),_e=t(Z,!0);s(Z);var ee=l(Z,2),ae=t(ee);{var we=d=>{var _=pa(),w=t(_,!0);s(_),x(()=>g(w,i(f).fileType)),n(d,_)};h(ae,d=>{i(f).fileType&&d(we)})}var ue=l(ae,2);{var ke=d=>{var _=_a(),w=t(_);s(_),x(()=>g(w,`Level ${i(f).level??""}`)),n(d,_)};h(ue,d=>{i(f).level!==void 0&&d(ke)})}var a=l(ue,2);{var r=d=>{var _=ua(),w=t(_,!0);s(_),x(()=>g(w,i(f).file)),n(d,_)};h(a,d=>{i(f).file&&d(r)})}s(ee);var o=l(ee,2);{var u=d=>{var _=ha();B(_,5,()=>i(f).categories,P,(w,L)=>{var M=fa(),k=t(M,!0);s(M),x(()=>g(k,i(L))),n(w,M)}),s(_),n(d,_)};h(o,d=>{i(f).categories&&i(f).categories.length>0&&d(u)})}var b=l(o,2);{var m=d=>{var _=ga(),w=l(t(_),2);B(w,1,()=>i(f).bodyParts,P,(L,M)=>{var k=xa(),se=t(k,!0);s(k),x(()=>g(se,i(M))),n(L,k)}),s(_),n(d,_)};h(b,d=>{i(f).bodyParts&&i(f).bodyParts.length>0&&d(m)})}var S=l(b,2);{var Le=d=>{var _=ya(),w=l(t(_),2);B(w,1,()=>i(f).muscleGroups,P,(L,M)=>{var k=ma(),se=t(k,!0);s(k),x(()=>g(se,i(M))),n(L,k)}),s(_),n(d,_)};h(S,d=>{i(f).muscleGroups&&i(f).muscleGroups.length>0&&d(Le)})}var $e=l(S,2);{var Ge=d=>{var _=wa(),w=l(t(_),2);B(w,1,()=>i(f).equipment,P,(L,M)=>{var k=ba(),se=t(k,!0);s(k),x(()=>g(se,i(M))),n(L,k)}),s(_),n(d,_)};h($e,d=>{i(f).equipment&&i(f).equipment.length>0&&d(Ge)})}var Ae=l($e,2);{var Fe=d=>{var _=Sa();B(_,5,()=>i(f).labels,P,(w,L)=>{var M=ka(),k=t(M,!0);s(M),x(()=>g(k,i(L))),n(w,M)}),s(_),n(d,_)};h(Ae,d=>{i(f).labels&&i(f).labels.length>0&&d(Fe)})}s(J),x(()=>{g(pe,i(f).name||"Unnamed Motion"),g(_e,i(f).description||"No description available.")}),Q("click",J,()=>X(i(f))),Q("keydown",J,d=>d.key==="Enter"&&X(i(f))),n(ce,J)}),n(D,Y)};h(W,D=>{i(e).length===0?D(ye):D(de,!1)},!0)}n(C,T)};h(ge,C=>{i(H)?C(ve):C(me,!1)},!0)}n(E,N)};h($,E=>{i(j)?E(q):E(U,!1)})}s(F),n(y,F)},$$slots:{default:!0}});var ne=l(O,2);{var xe=y=>{na(y,{get motion(){return i(R)},$$events:{close:z}})};h(ne,y=>{i(K)&&i(R)&&y(xe)})}n(he,le),qe()}export{Ha as component};
