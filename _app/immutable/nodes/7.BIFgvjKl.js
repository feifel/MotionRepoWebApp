import"../chunks/DsnmJJEf.js";import"../chunks/BgOBoQOY.js";import{o as Ne,e as V,s as M}from"../chunks/DH41gyba.js";import{p as ae,f,d as y,a1 as X,_ as ee,s as x,r as u,b as n,c as se,t as q,a as R,ar as Ee,ag as i,l as t,A,aq as te,m as Ie}from"../chunks/CUN5SctD.js";import{i as F}from"../chunks/BxYTVEg2.js";import{e as ve,i as pe}from"../chunks/iAZ-NaeV.js";import{s as Re}from"../chunks/B9T8IDRh.js";import{i as ie}from"../chunks/CWXmR2Hr.js";import{a as Ge}from"../chunks/Dkw99rV-.js";import{F as he,S as Ue,M as me}from"../chunks/CONv8jVj.js";import{s as ge}from"../chunks/BOs7UOPn.js";import{p as re}from"../chunks/CxT5fEoY.js";var He=f('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Je=f('<div class="body svelte-1s84j4"><!> <!></div>');function je(T,C){ae(C,!1);let r=re(C,"workout",12),S=[{id:"description",type:"textarea",label:"Description",values:[r().description||"N/A"]},{id:"file",type:"text",label:"File",values:[r().file||"N/A"]},{id:"categories",type:"tags",label:"Categories",values:r().categories||[]}];function k(o){o.forEach(l=>{switch(l.id){case"description":r(r().description=l.values[0]||"",!0);break;case"file":r(r().file=l.values[0]||"",!0);break;case"categories":r(r().categories=l.values,!0);break}}),console.log("Workout updated:",r()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(r(),null,2))}ie();var _=Je(),v=y(_);{var B=o=>{var l=He(),w=y(l);u(l),q(()=>{ge(w,"src",(X(r()),ee(()=>r().screenshot))),ge(w,"alt",(X(r()),ee(()=>`[image of '${r().name||"Workout"}' is missing]`)))}),n(o,l)};F(v,o=>{X(r()),ee(()=>r().screenshot)&&o(B)})}var s=x(v,2);he(s,{get rows(){return S},readonly:!1,onSubmit:k}),u(_),n(T,_),se()}var Oe=f('<div class="body svelte-1bsh2eg"><!></div>');function Ze(T,C){ae(C,!1);let r=re(C,"onFilter",8),S=re(C,"selectedFilters",8),k=[{id:"difficulty",type:"tags",label:"Difficulty",values:S().filter(s=>s.startsWith("difficulty:")).map(s=>s.replace("difficulty:","")),options:["Beginner","Intermediate","Advanced"]},{id:"categories",type:"tags",label:"Categories",values:S().filter(s=>s.startsWith("category:")).map(s=>s.replace("category:","")),options:["Full Body","Upper Body","Lower Body","Core","Cardio","Strength"]}];function _(s){const o=[];s.forEach(l=>{l.id==="categories"?o.push(...(l.values||[]).map(w=>`category:${w}`)):l.id==="difficulty"&&o.push(...(l.values||[]).map(w=>`difficulty:${w}`))}),r()(o)}ie();var v=Oe(),B=y(v);he(B,{get rows(){return k},onSubmit:s=>_(s),readonly:!1}),u(v),n(T,v),se()}var Ke=f('<div class="loading svelte-1tke4h4">Loading workouts...</div>'),Qe=f('<div class="error svelte-1tke4h4"> </div>'),Ye=f('<div class="no-results svelte-1tke4h4">No workouts found.</div>'),ze=f("<span> </span>"),Ve=f('<span class="tag"> </span>'),Xe=f('<span class="tag"> </span>'),et=f('<div class="categories"></div>'),tt=f('<div class="result-card svelte-1tke4h4" tabindex="0" role="button"><h3> </h3> <p> </p> <div class="workout-meta svelte-1tke4h4"><!> <!></div> <!></div>'),rt=f('<div class="result-grid"><!></div>'),at=f("<!> <!> <!>",1);function gt(T,C){ae(C,!1);let r=A([]),S=[],k=A(!0),_=A(null),v=A(null),B=A(!1),s=A(!1),o=A([]),l="";async function w(e="",b=0,p=20){try{i(k,!0),i(_,null);const m=new URLSearchParams;e&&m.append("search",e),b&&m.append("offset",b.toString()),p&&m.append("limit",p.toString());const c=await Ge(`/workouts?${m}`);return Array.isArray(c)?c:c.workouts||c.items||c.data||[]}catch(m){return console.error("Error fetching workouts:",m),[{id:"1",name:"Full Body Strength",description:"A comprehensive full body workout focusing on strength building",difficulty:"Intermediate",duration:45,equipment:["Dumbbells","Barbell","Bench"],bodyParts:["Chest","Back","Legs","Shoulders","Arms"],muscleGroups:["Pectorals","Latissimus Dorsi","Quadriceps","Deltoids","Biceps","Triceps"],categories:["Strength","Full Body"],exercises:["Bench Press","Squats","Deadlifts","Shoulder Press","Bicep Curls"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-15T10:00:00Z",createdBy:"trainer1"},{id:"2",name:"HIIT Cardio Blast",description:"High-intensity interval training for maximum calorie burn",difficulty:"Advanced",duration:30,equipment:["None"],bodyParts:["Full Body"],muscleGroups:["Core","Legs","Glutes"],categories:["Cardio","HIIT"],exercises:["Burpees","Mountain Climbers","Jump Squats","High Knees","Plank Jacks"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-16T10:00:00Z",createdBy:"trainer2"},{id:"3",name:"Beginner Core Routine",description:"Gentle introduction to core strengthening exercises",difficulty:"Beginner",duration:20,equipment:["Yoga Mat"],bodyParts:["Core","Abs"],muscleGroups:["Rectus Abdominis","Obliques","Transverse Abdominis"],categories:["Core","Beginner"],exercises:["Plank","Crunches","Russian Twists","Leg Raises","Bird Dog"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-17T10:00:00Z",createdBy:"trainer1"}].filter(c=>!e||c.name?.toLowerCase().includes(e.toLowerCase())||c.description?.toLowerCase().includes(e.toLowerCase())||c.categories?.some($=>$.toLowerCase().includes(e.toLowerCase())))}finally{i(k,!1)}}function ye(e,b,p){const m=b.toLowerCase(),c=p.filter(a=>a.startsWith("category:")).map(a=>a.replace("category:","")),$=p.filter(a=>a.startsWith("difficulty:")).map(a=>a.replace("difficulty:",""));return e.filter(a=>{const L=!b||(a.name?.toLowerCase().includes(m)??!1)||(a.description?.toLowerCase().includes(m)??!1),H=c.length===0||c.every(j=>a.categories?.includes(j)??!1),J=$.length===0||$.includes(a.difficulty??"");return L&&H&&J})}async function G(){i(k,!0),i(_,null);try{S.length===0&&(S=await w()),i(r,ye(S,l,t(o)))}catch(e){i(_,e.message)}finally{i(k,!1)}}async function _e(e){l=e,await G()}function oe(e){i(v,e),i(B,!0)}function le(){i(B,!1),i(v,null)}function be(){i(s,!0)}function U(){i(s,!1)}function ne(e){i(o,e),U(),G()}function ke(e){e.key==="Escape"&&(le(),U())}Ne(async()=>{await G()}),ie();var ce=at();V("keydown",Ee,ke);var de=R(ce);Ue(de,{title:"Workouts",description:"Browse and search for workouts.",onSearch:_e,onFilterClick:be,get selectedFilters(){return t(o)},set selectedFilters(e){i(o,e)},$$events:{filterChanged:e=>{i(o,e.detail),ne(e.detail)}},children:(e,b)=>{var p=rt(),m=y(p);{var c=a=>{var L=Ke();n(a,L)},$=a=>{var L=te(),H=R(L);{var J=W=>{var P=Qe(),O=y(P);u(P),q(()=>M(O,`Error: ${t(_)??""}`)),n(W,P)},j=W=>{var P=te(),O=R(P);{var we=D=>{var I=Ye();n(D,I)},Be=D=>{var I=te(),$e=R(I);ve($e,1,()=>t(r),pe,(Ae,g)=>{var N=tt(),Z=y(N),xe=y(Z,!0);u(Z);var K=x(Z,2),Le=y(K,!0);u(K);var Q=x(K,2),fe=y(Q);{var We=d=>{var h=ze(),E=y(h,!0);u(h),q(Y=>{Re(h,1,`tag difficulty-${Y??""}`,"svelte-1tke4h4"),M(E,t(g).difficulty)},[()=>t(g).difficulty.toLowerCase()]),n(d,h)};F(fe,d=>{t(g).difficulty&&d(We)})}var Pe=x(fe,2);{var De=d=>{var h=Ve(),E=y(h);u(h),q(()=>M(E,`${t(g).duration??""} min`)),n(d,h)};F(Pe,d=>{t(g).duration&&d(De)})}u(Q);var Me=x(Q,2);{var qe=d=>{var h=et();ve(h,5,()=>t(g).categories,pe,(E,Y)=>{var z=Xe(),Te=y(z,!0);u(z),q(()=>M(Te,t(Y))),n(E,z)}),u(h),n(d,h)};F(Me,d=>{t(g).categories&&t(g).categories.length>0&&d(qe)})}u(N),q(()=>{M(xe,t(g).name||"Unnamed Workout"),M(Le,t(g).description||"No description available.")}),V("click",N,()=>oe(t(g))),V("keydown",N,d=>d.key==="Enter"&&oe(t(g))),n(Ae,N)}),n(D,I)};F(O,D=>{t(r).length===0?D(we):D(Be,!1)},!0)}n(W,P)};F(H,W=>{t(_)?W(J):W(j,!1)},!0)}n(a,L)};F(m,a=>{t(k)?a(c):a($,!1)})}u(p),n(e,p)},$$slots:{default:!0},$$legacy:!0});var ue=x(de,2);{var Fe=e=>{{let b=Ie(()=>t(v).name??"Unknown");me(e,{get title(){return t(b)},$$events:{close:le},children:(p,m)=>{je(p,{get workout(){return t(v)}})},$$slots:{default:!0}})}};F(ue,e=>{t(B)&&t(v)&&e(Fe)})}var Ce=x(ue,2);{var Se=e=>{me(e,{title:"Filter Workouts",$$events:{close:U},children:(b,p)=>{Ze(b,{get selectedFilters(){return t(o)},onFilter:ne})},$$slots:{default:!0}})};F(Ce,e=>{t(s)&&e(Se)})}n(T,ce),se()}export{gt as component};
