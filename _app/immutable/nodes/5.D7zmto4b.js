import"../chunks/DsnmJJEf.js";import"../chunks/Dz6n3ZlL.js";import{o as ne,s as f,e as ve}from"../chunks/BTuvHJGO.js";import{p as ce,f as i,d as n,a1 as z,_ as V,s as u,r as l,b as o,c as de,t as _,a as j,ag as q,l as a,A as $,ap as Z,m as Te}from"../chunks/BdiKIHD0.js";import{i as g}from"../chunks/CwSPiGWr.js";import{e as F,i as L}from"../chunks/DuI2qqPd.js";import{i as ue}from"../chunks/OOFACt6R.js";import{a as Ee}from"../chunks/Dkw99rV-.js";import{F as Ne,S as $e,M as He}from"../chunks/D6XYiuBT.js";import{s as pe}from"../chunks/DrhXIds-.js";import{p as De}from"../chunks/DMFpSnWN.js";var Ke=i('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Re=i('<div class="body svelte-1s84j4"><!> <!></div>');function Ue(X,H){ce(H,!1);let e=De(H,"motion",12),C=[{id:"description",type:"textarea",label:"Description",values:[e().description||"N/A"]},{id:"file",type:"text",label:"File",values:[e().file||"N/A"]},{id:"fileType",type:"text",label:"File Type",values:[e().fileType||"N/A"]},{id:"level",type:"enum",label:"Level",values:["intermediate"],options:["beginner","intermediate","advanced"]},{id:"equipment",type:"tags",label:"Equipment",values:e().equipment||[],options:["KettleBell","Dumbbell"]},{id:"bodyParts",type:"tags",label:"Body Parts",values:e().bodyParts||[]},{id:"muscleGroups",type:"tags",label:"Muscle Groups",values:e().muscleGroups||[]},{id:"categories",type:"tags",label:"Categories",values:e().categories||[]},{id:"primaryJoints",type:"tags",label:"Primary Joints",values:e().primaryJoints||[]},{id:"labels",type:"tags",label:"Labels",values:e().labels||[]}];function J(x){x.forEach(v=>{switch(v.id){case"description":e(e().description=v.values[0]||"",!0);break;case"file":e(e().file=v.values[0]||"",!0);break;case"fileType":e(e().fileType=v.values[0]||"",!0);break;case"level":const P={beginner:1,intermediate:2,advanced:3};e(e().level=P[v.values[0]]||2,!0);break;case"equipment":e(e().equipment=v.values,!0);break;case"bodyParts":e(e().bodyParts=v.values,!0);break;case"muscleGroups":e(e().muscleGroups=v.values,!0);break;case"categories":e(e().categories=v.values,!0);break;case"primaryJoints":e(e().primaryJoints=v.values,!0);break;case"labels":e(e().labels=v.values,!0);break}}),console.log("Motion updated:",e()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(e(),null,2))}ue();var y=Re(),M=n(y);{var D=x=>{var v=Ke(),P=n(v);l(v),_(()=>{pe(P,"src",(z(e()),V(()=>e().screenshot))),pe(P,"alt",(z(e()),V(()=>`[image of '${e().name||"Avatar"}' is missing]`)))}),o(x,v)};g(M,x=>{z(e()),V(()=>e().screenshot)&&x(D)})}var W=u(M,2);Ne(W,{get rows(){return C},readonly:!1,onSubmit:J}),l(y),o(X,y),de()}var je=i('<div class="loading">Loading motions...</div>'),Xe=i('<div class="error"> </div>'),We=i('<div class="no-results">No motions found.</div>'),Ye=i('<span class="file-type svelte-qs2apu"> </span>'),Ie=i('<span class="level svelte-qs2apu"> </span>'),Oe=i('<span class="file-name svelte-qs2apu"> </span>'),Qe=i('<span class="category svelte-qs2apu"> </span>'),ze=i('<div class="categories svelte-qs2apu"></div>'),Ve=i('<span class="body-part svelte-qs2apu"> </span>'),Ze=i('<div class="body-parts svelte-qs2apu"><strong class="svelte-qs2apu">Body Parts:</strong> <!></div>'),ea=i('<span class="muscle-group svelte-qs2apu"> </span>'),aa=i('<div class="muscle-groups svelte-qs2apu"><strong class="svelte-qs2apu">Muscle Groups:</strong> <!></div>'),sa=i('<span class="equip svelte-qs2apu"> </span>'),ta=i('<div class="equipment svelte-qs2apu"><strong class="svelte-qs2apu">Equipment:</strong> <!></div>'),ra=i('<span class="label svelte-qs2apu"> </span>'),oa=i('<div class="labels svelte-qs2apu"></div>'),la=i('<div class="result-card" role="button" tabindex="0"><h3> </h3> <p> </p> <div class="motion-details svelte-qs2apu"><!> <!> <!></div> <!> <!> <!> <!> <!></div>'),ia=i('<div class="result-grid svelte-qs2apu"><!></div>'),na=i("<!> <!>",1);function ha(X,H){ce(H,!1);let e=$([]),C=$(!0),J=$(null),y=$(null),M=$(!1);async function D(p="",T=0,k=20){try{q(C,!0),q(J,null);const b=new URLSearchParams;p&&b.append("search",p),T&&b.append("offset",T.toString()),k&&b.append("limit",k.toString()),console.log("Fetching motions with params:",b.toString());const S=await Ee(`/motions?${b}`);console.log("Received motions data:",S);const K=Array.isArray(S)?S:S.motions||S.items||S.data||[];return console.log("Processed motions array:",K),K}catch(b){return console.error("Error fetching motions:",b),console.warn("Using mock data for development"),[{id:"1",name:"Walking Motion",description:"Natural walking cycle for human characters",file:"walking_motion.fbx",fileType:"FBX",level:1,equipment:["None"],bodyParts:["Legs","Arms","Core"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes"],categories:["Locomotion","Basic"],primaryJoints:["Hip","Knee","Ankle","Shoulder"],labels:["natural","locomotion","cycle","human"],screenshot:"/api/placeholder/400/300"},{id:"2",name:"Running Sprint",description:"High-intensity sprinting motion for athletic characters",file:"running_sprint.fbx",fileType:"FBX",level:3,equipment:["Running Shoes"],bodyParts:["Legs","Arms","Core","Full Body"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes","Core"],categories:["Locomotion","Athletic","High Intensity"],primaryJoints:["Hip","Knee","Ankle","Elbow","Shoulder"],labels:["sprint","athletic","high-energy","sport"],screenshot:"/api/placeholder/400/300"},{id:"3",name:"Boxing Jab Cross",description:"Basic boxing combination with jab and cross punches",file:"boxing_combo.fbx",fileType:"FBX",level:2,equipment:["Boxing Gloves"],bodyParts:["Arms","Shoulders","Core","Legs"],muscleGroups:["Deltoids","Biceps","Triceps","Core","Legs"],categories:["Combat","Upper Body","Athletic"],primaryJoints:["Shoulder","Elbow","Wrist","Hip","Knee"],labels:["boxing","combat","striking","combination"],screenshot:"/api/placeholder/400/300"},{id:"4",name:"Yoga Sun Salutation",description:"Flowing yoga sequence connecting breath with movement",file:"yoga_sun_salutation.fbx",fileType:"FBX",level:2,equipment:["Yoga Mat"],bodyParts:["Full Body","Arms","Legs","Core"],muscleGroups:["Full Body","Core","Shoulders","Legs"],categories:["Yoga","Flexibility","Wellness"],primaryJoints:["Spine","Shoulder","Hip","Knee","Ankle"],labels:["yoga","flow","wellness","flexibility"],screenshot:"/api/placeholder/400/300"}]}}async function W(p){console.log("Search triggered with query:",p),q(e,await D(p)),console.log("Motions updated after search, length:",a(e).length)}function x(p){q(y,p),q(M,!0)}function v(){q(M,!1),q(y,null)}function P(p){p.key==="Escape"&&a(M)&&v()}ne(()=>(document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)})),ne(async()=>{console.log("Component mounted, fetching initial motions..."),q(e,await D()),q(C,!1),console.log("Initial motions loaded, length:",a(e).length)}),ue();var ee=na(),ae=j(ee);$e(ae,{title:"Motions",description:"Browse and search for motions.",onSearch:W,children:(p,T)=>{var k=ia(),b=n(k);{var S=A=>{var R=je();o(A,R)},K=A=>{var R=Z(),fe=j(R);{var _e=B=>{var G=Xe(),Y=n(G);l(G),_(()=>f(Y,`Error: ${a(J)??""}`)),o(B,G)},be=B=>{var G=Z(),Y=j(G);{var ye=w=>{var U=We();o(w,U)},he=w=>{var U=Z(),qe=j(U);F(qe,1,()=>a(e),L,(xe,r)=>{var E=la(),I=n(E),ke=n(I,!0);l(I);var O=u(I,2),Se=n(O,!0);l(O);var Q=u(O,2),se=n(Q);{var Me=s=>{var t=Ye(),c=n(t,!0);l(t),_(()=>f(c,a(r).fileType)),o(s,t)};g(se,s=>{a(r).fileType&&s(Me)})}var te=u(se,2);{var Pe=s=>{var t=Ie(),c=n(t);l(t),_(()=>f(c,`Level ${a(r).level??""}`)),o(s,t)};g(te,s=>{a(r).level!==void 0&&s(Pe)})}var Ae=u(te,2);{var Be=s=>{var t=Oe(),c=n(t,!0);l(t),_(()=>f(c,a(r).file)),o(s,t)};g(Ae,s=>{a(r).file&&s(Be)})}l(Q);var re=u(Q,2);{var Ge=s=>{var t=ze();F(t,5,()=>a(r).categories,L,(c,h)=>{var m=Qe(),d=n(m,!0);l(m),_(()=>f(d,a(h))),o(c,m)}),l(t),o(s,t)};g(re,s=>{a(r).categories&&a(r).categories.length>0&&s(Ge)})}var oe=u(re,2);{var we=s=>{var t=Ze(),c=u(n(t),2);F(c,1,()=>a(r).bodyParts,L,(h,m)=>{var d=Ve(),N=n(d,!0);l(d),_(()=>f(N,a(m))),o(h,d)}),l(t),o(s,t)};g(oe,s=>{a(r).bodyParts&&a(r).bodyParts.length>0&&s(we)})}var le=u(oe,2);{var Fe=s=>{var t=aa(),c=u(n(t),2);F(c,1,()=>a(r).muscleGroups,L,(h,m)=>{var d=ea(),N=n(d,!0);l(d),_(()=>f(N,a(m))),o(h,d)}),l(t),o(s,t)};g(le,s=>{a(r).muscleGroups&&a(r).muscleGroups.length>0&&s(Fe)})}var ie=u(le,2);{var Le=s=>{var t=ta(),c=u(n(t),2);F(c,1,()=>a(r).equipment,L,(h,m)=>{var d=sa(),N=n(d,!0);l(d),_(()=>f(N,a(m))),o(h,d)}),l(t),o(s,t)};g(ie,s=>{a(r).equipment&&a(r).equipment.length>0&&s(Le)})}var Ce=u(ie,2);{var Je=s=>{var t=oa();F(t,5,()=>a(r).labels,L,(c,h)=>{var m=ra(),d=n(m,!0);l(m),_(()=>f(d,a(h))),o(c,m)}),l(t),o(s,t)};g(Ce,s=>{a(r).labels&&a(r).labels.length>0&&s(Je)})}l(E),_(()=>{f(ke,a(r).name||"Unnamed Motion"),f(Se,a(r).description||"No description available.")}),ve("click",E,()=>x(a(r))),ve("keydown",E,s=>s.key==="Enter"&&x(a(r))),o(xe,E)}),o(w,U)};g(Y,w=>{a(e).length===0?w(ye):w(he,!1)},!0)}o(B,G)};g(fe,B=>{a(J)?B(_e):B(be,!1)},!0)}o(A,R)};g(b,A=>{a(C)?A(S):A(K,!1)})}l(k),o(p,k)},$$slots:{default:!0}});var me=u(ae,2);{var ge=p=>{{let T=Te(()=>a(y).name??"Unknown");He(p,{get title(){return a(T)},$$events:{close:v},children:(k,b)=>{Ue(k,{get motion(){return a(y)}})},$$slots:{default:!0}})}};g(me,p=>{a(M)&&a(y)&&p(ge)})}o(X,ee),de()}export{ha as component};
