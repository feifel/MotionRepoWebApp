import"../chunks/DsnmJJEf.js";import"../chunks/CDpiRAkj.js";import{o as pe,e as ue,a as _e,s as u}from"../chunks/Dfnk_7le.js";import{p as he,aq as ge,a as ie,b as f,c as me,ag as y,A as q,l as r,f as A,d as i,s as l,r as s,aT as Ce,t as E}from"../chunks/CUEAen0f.js";import{i as Q}from"../chunks/B_kiZDQ4.js";import{e as ae,i as se}from"../chunks/Dtdogyub.js";import{s as I}from"../chunks/6tPKXEvI.js";import{i as fe}from"../chunks/cw9HsNIX.js";import{a as M,A as xe}from"../chunks/Dkw99rV-.js";function Me(n){return function(...t){var e=t[0];return e.stopPropagation(),n?.apply(this,t)}}const Y=[{id:"workout-001",name:"Full Body HIIT",description:"A high-intensity interval training workout targeting all major muscle groups. Perfect for building endurance and burning calories.",difficulty:"Intermediate",duration:30,equipment:["Dumbbells","Mat","Timer"],bodyParts:["Full Body","Core","Legs","Arms"],muscleGroups:["Quadriceps","Hamstrings","Glutes","Shoulders","Chest","Back"],categories:["HIIT","Strength","Cardio"],exercises:["Burpees","Squats","Push-ups","Mountain Climbers","Plank","Jumping Jacks"],file:"/sample-workouts/full-body-hiit.glb",screenshot:"/sample-images/workout-hiit.jpg",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",createdBy:"Demo User"},{id:"workout-002",name:"Yoga Flow for Beginners",description:"A gentle yoga flow designed for beginners to improve flexibility, balance, and mindfulness.",difficulty:"Beginner",duration:45,equipment:["Yoga Mat","Yoga Block"],bodyParts:["Full Body","Spine","Hips","Shoulders"],muscleGroups:["Core","Back","Hip Flexors","Shoulders"],categories:["Yoga","Flexibility","Mindfulness"],exercises:["Sun Salutation A","Warrior I","Warrior II","Tree Pose","Child's Pose","Savasana"],file:"/sample-workouts/yoga-flow-beginner.glb",screenshot:"/sample-images/workout-yoga.jpg",createdAt:"2024-01-10T14:20:00Z",updatedAt:"2024-01-10T14:20:00Z",createdBy:"Yoga Instructor"},{id:"workout-003",name:"Upper Body Strength",description:"Focus on building upper body strength with this targeted workout routine.",difficulty:"Advanced",duration:40,equipment:["Barbell","Dumbbells","Pull-up Bar"],bodyParts:["Chest","Back","Shoulders","Arms"],muscleGroups:["Pectorals","Latissimus Dorsi","Deltoids","Biceps","Triceps"],categories:["Strength","Bodybuilding"],exercises:["Bench Press","Pull-ups","Shoulder Press","Bicep Curls","Tricep Dips"],file:"/sample-workouts/upper-body-strength.glb",screenshot:"/sample-images/workout-upper.jpg",createdAt:"2024-01-12T09:15:00Z",updatedAt:"2024-01-12T09:15:00Z",createdBy:"Strength Coach"}],N=[{id:"motion-001",name:"Squat",description:"A fundamental lower body exercise that targets quadriceps, hamstrings, and glutes. Proper form is essential for safety and effectiveness.",file:"/sample-motions/squat.glb",fileType:"glb",screenshot:"/sample-images/motion-squat.jpg",level:1,equipment:["Bodyweight","Barbell","Dumbbells"],bodyParts:["Legs","Glutes"],muscleGroups:["Quadriceps","Hamstrings","Glutes","Core"],categories:["Strength","Compound"],primaryJoints:["Knee","Hip","Ankle"],labels:["Functional","Compound","Lower Body"],fileSize:245760,duration:3.5,uploadDate:"2024-01-05T11:00:00Z",author:"Motion Expert"},{id:"motion-002",name:"Push-up",description:"Classic upper body exercise that builds chest, shoulder, and tricep strength while engaging the core.",file:"/sample-motions/pushup.glb",fileType:"glb",screenshot:"/sample-images/motion-pushup.jpg",level:1,equipment:["Bodyweight"],bodyParts:["Chest","Shoulders","Arms"],muscleGroups:["Pectorals","Deltoids","Triceps","Core"],categories:["Strength","Calisthenics"],primaryJoints:["Shoulder","Elbow","Wrist"],labels:["Bodyweight","Upper Body","Core"],fileSize:196608,duration:2.8,uploadDate:"2024-01-06T14:30:00Z",author:"Fitness Trainer"},{id:"motion-003",name:"Plank",description:"Isometric core exercise that strengthens the entire midsection and improves stability.",file:"/sample-motions/plank.glb",fileType:"glb",screenshot:"/sample-images/motion-plank.jpg",level:1,equipment:["Bodyweight"],bodyParts:["Core","Shoulders"],muscleGroups:["Rectus Abdominis","Obliques","Transverse Abdominis","Shoulders"],categories:["Core","Isometric"],primaryJoints:["Shoulder","Elbow","Hip"],labels:["Core","Stability","Isometric"],fileSize:163840,duration:4.2,uploadDate:"2024-01-07T09:45:00Z",author:"Core Specialist"},{id:"motion-004",name:"Deadlift",description:"Compound exercise that works the entire posterior chain, including hamstrings, glutes, and lower back.",file:"/sample-motions/deadlift.glb",fileType:"glb",screenshot:"/sample-images/motion-deadlift.jpg",level:3,equipment:["Barbell","Dumbbells"],bodyParts:["Back","Legs","Glutes"],muscleGroups:["Erector Spinae","Hamstrings","Glutes","Traps","Lats"],categories:["Strength","Compound","Powerlifting"],primaryJoints:["Hip","Knee","Ankle"],labels:["Compound","Posterior Chain","Heavy"],fileSize:327680,duration:5.1,uploadDate:"2024-01-08T16:20:00Z",author:"Strength Coach"}],K=[{id:"avatar-001",name:"Athletic Male",description:"A fit male avatar with athletic build, suitable for high-intensity workouts and strength training demonstrations.",gender:"Male",categories:["Athletic","Male","Adult"],fileName:"athletic-male.glb",file:"/sample-avatars/athletic-male.glb",screenshot:"/sample-images/avatar-athletic-male.jpg",createdAt:"2024-01-01T10:00:00Z",updatedAt:"2024-01-01T10:00:00Z",createdBy:"Avatar Designer"},{id:"avatar-002",name:"Yoga Female",description:"A flexible female avatar designed for yoga and flexibility demonstrations with realistic body proportions.",gender:"Female",categories:["Yoga","Female","Adult","Flexible"],fileName:"yoga-female.glb",file:"/sample-avatars/yoga-female.glb",screenshot:"/sample-images/avatar-yoga-female.jpg",createdAt:"2024-01-02T11:30:00Z",updatedAt:"2024-01-02T11:30:00Z",createdBy:"Avatar Designer"},{id:"avatar-003",name:"Casual Male",description:"A casual male avatar with average build, perfect for everyday workout demonstrations.",gender:"Male",categories:["Casual","Male","Adult"],fileName:"casual-male.glb",file:"/sample-avatars/casual-male.glb",screenshot:"/sample-images/avatar-casual-male.jpg",createdAt:"2024-01-03T14:15:00Z",updatedAt:"2024-01-03T14:15:00Z",createdBy:"Avatar Designer"},{id:"avatar-004",name:"Senior Female",description:"A senior female avatar designed for gentle exercise and senior fitness demonstrations.",gender:"Female",categories:["Senior","Female","Gentle Exercise"],fileName:"senior-female.glb",file:"/sample-avatars/senior-female.glb",screenshot:"/sample-images/avatar-senior-female.jpg",createdAt:"2024-01-04T09:45:00Z",updatedAt:"2024-01-04T09:45:00Z",createdBy:"Avatar Designer"}],k={showMockWarning:!0,delay:500};async function de(){try{const n=new AbortController,t=setTimeout(()=>n.abort(),3e3),e=await fetch(`${xe.baseUrl}/health`,{method:"GET",signal:n.signal,headers:{"Content-Type":"application/json"}});return clearTimeout(t),e.ok}catch{return!1}}function F(n){return new Promise(t=>setTimeout(t,n))}class Fe{useMockData=!1;apiAvailable=!0;constructor(){this.initialize()}async initialize(){this.apiAvailable=await de(),this.useMockData=!this.apiAvailable,this.useMockData&&k.showMockWarning&&console.warn("⚠️ Using mock data - API server is not available")}async getWorkouts(t=1,e=10){if(this.useMockData){await F(k.delay);const a=(t-1)*e,c=a+e;return{success:!0,data:Y.slice(a,c),total:Y.length,page:t,pageSize:e,totalPages:Math.ceil(Y.length/e)}}try{return await M(`/workouts?page=${t}&pageSize=${e}`)}catch{return this.useMockData=!0,this.getWorkouts(t,e)}}async getWorkout(t){if(this.useMockData){await F(k.delay);const e=Y.find(a=>a.id===t);return e?{success:!0,data:e}:{success:!1,error:"Workout not found"}}try{return await M(`/workouts/${t}`)}catch{return this.useMockData=!0,this.getWorkout(t)}}async getMotions(t=1,e=10){if(this.useMockData){await F(k.delay);const a=(t-1)*e,c=a+e;return{success:!0,data:N.slice(a,c),total:N.length,page:t,pageSize:e,totalPages:Math.ceil(N.length/e)}}try{return await M(`/motions?page=${t}&pageSize=${e}`)}catch{return this.useMockData=!0,this.getMotions(t,e)}}async getMotion(t){if(this.useMockData){await F(k.delay);const e=N.find(a=>a.id===t);return e?{success:!0,data:e}:{success:!1,error:"Motion not found"}}try{return await M(`/motions/${t}`)}catch{return this.useMockData=!0,this.getMotion(t)}}async getAvatars(t=1,e=10){if(this.useMockData){await F(k.delay);const a=(t-1)*e,c=a+e;return{success:!0,data:K.slice(a,c),total:K.length,page:t,pageSize:e,totalPages:Math.ceil(K.length/e)}}try{return await M(`/avatars?page=${t}&pageSize=${e}`)}catch{return this.useMockData=!0,this.getAvatars(t,e)}}async getAvatar(t){if(this.useMockData){await F(k.delay);const e=K.find(a=>a.id===t);return e?{success:!0,data:e}:{success:!1,error:"Avatar not found"}}try{return await M(`/avatars/${t}`)}catch{return this.useMockData=!0,this.getAvatar(t)}}async searchWorkouts(t){if(this.useMockData){await F(k.delay);const e=Y.filter(a=>a.name?.toLowerCase().includes(t.toLowerCase())||a.description?.toLowerCase().includes(t.toLowerCase())||a.categories?.some(c=>c.toLowerCase().includes(t.toLowerCase()))||a.bodyParts?.some(c=>c.toLowerCase().includes(t.toLowerCase())));return{success:!0,data:e,total:e.length,page:1,pageSize:e.length,totalPages:1}}try{return await M(`/workouts/search?q=${encodeURIComponent(t)}`)}catch{return this.useMockData=!0,this.searchWorkouts(t)}}async searchMotions(t){if(this.useMockData){await F(k.delay);const e=N.filter(a=>a.name?.toLowerCase().includes(t.toLowerCase())||a.description?.toLowerCase().includes(t.toLowerCase())||a.categories?.some(c=>c.toLowerCase().includes(t.toLowerCase()))||a.bodyParts?.some(c=>c.toLowerCase().includes(t.toLowerCase())));return{success:!0,data:e,total:e.length,page:1,pageSize:e.length,totalPages:1}}try{return await M(`/motions/search?q=${encodeURIComponent(t)}`)}catch{return this.useMockData=!0,this.searchMotions(t)}}isUsingMockData(){return this.useMockData}async refreshApiStatus(){return this.apiAvailable=await de(),this.useMockData=!this.apiAvailable,this.apiAvailable}}const J=new Fe,ve=(n,t)=>{const e="https://via.placeholder.com";switch(n){case"workout":return`${e}/400x300/FF6B6B/FFFFFF?text=Workout+${t.split("-")[1]}`;case"motion":return`${e}/400x300/4ECDC4/FFFFFF?text=Motion+${t.split("-")[1]}`;case"avatar":return`${e}/400x300/45B7D1/FFFFFF?text=Avatar+${t.split("-")[1]}`;default:return`${e}/400x300/CCCCCC/FFFFFF?text=Placeholder`}},re=(n,t,e)=>{if(!n)return t&&e?ve(t,e):"https://via.placeholder.com/400x300/CCCCCC/FFFFFF?text=No+Image";if(n.startsWith("/sample-")){const a=n.includes("workout")?"workout":n.includes("motion")?"motion":n.includes("avatar")?"avatar":"workout";return ve(a,e||"default")}return n.startsWith("http")?n:`${n}`};var De=A(`<div class="mock-details svelte-1uxmk6i"><p class="svelte-1uxmk6i">The real API server is not available. You're viewing sample data for demonstration purposes.</p> <p class="svelte-1uxmk6i">Features available with sample data:</p> <ul class="svelte-1uxmk6i"><li class="svelte-1uxmk6i">3 sample workouts</li> <li class="svelte-1uxmk6i">4 sample motions/exercises</li> <li class="svelte-1uxmk6i">4 sample avatars</li> <li class="svelte-1uxmk6i">Search functionality</li> <li class="svelte-1uxmk6i">Detailed views for all items</li></ul></div>`),qe=A('<div class="mock-indicator svelte-1uxmk6i"><div class="mock-banner svelte-1uxmk6i"><span class="warning-icon svelte-1uxmk6i">⚠️</span> <span>Using Sample Data</span> <button class="refresh-btn svelte-1uxmk6i" title="Retry connection">🔄</button></div> <!></div>');function Te(n,t){he(t,!1);let e=q(!1),a=q(!1);pe(async()=>{y(e,J.isUsingMockData())});async function c(){const _=await J.refreshApiStatus();y(e,!_),y(a,!1)}fe();var w=ge(),$=ie(w);{var O=_=>{var T=qe(),B=i(T),V=l(i(B),4);s(B);var X=l(B,2);{var d=b=>{var L=De();f(b,L)};Q(X,b=>{r(a)&&b(d)})}s(T),ue("click",V,Me(c)),ue("click",B,()=>y(a,!r(a))),f(_,T)};Q($,_=>{r(e)&&k.showMockWarning&&_(O)})}f(n,w),me()}var Be=A('<div class="loading svelte-9qn7gh"><div class="spinner svelte-9qn7gh"></div> <p class="svelte-9qn7gh">Loading sample data...</p></div>'),Pe=A('<div class="error svelte-9qn7gh"><h2 class="svelte-9qn7gh">Error Loading Data</h2> <p class="svelte-9qn7gh"> </p></div>'),Se=A('<div class="card svelte-9qn7gh"><img class="svelte-9qn7gh"/> <h3 class="svelte-9qn7gh"> </h3> <p class="description svelte-9qn7gh"> </p> <div class="tags svelte-9qn7gh"><span class="tag svelte-9qn7gh"> </span> <span class="tag svelte-9qn7gh"> </span></div></div>'),Ie=A('<div class="card svelte-9qn7gh"><img class="svelte-9qn7gh"/> <h3 class="svelte-9qn7gh"> </h3> <p class="description svelte-9qn7gh"> </p> <div class="tags svelte-9qn7gh"><span class="tag svelte-9qn7gh"> </span> <span class="tag svelte-9qn7gh"> </span></div></div>'),$e=A('<div class="card svelte-9qn7gh"><img class="svelte-9qn7gh"/> <h3 class="svelte-9qn7gh"> </h3> <p class="description svelte-9qn7gh"> </p> <div class="tags svelte-9qn7gh"><span class="tag svelte-9qn7gh"> </span> <span class="tag svelte-9qn7gh"> </span></div></div>'),Le=A('<div class="data-grid svelte-9qn7gh"><section class="svelte-9qn7gh"><h2 class="svelte-9qn7gh"> </h2> <div class="cards svelte-9qn7gh"></div></section> <section class="svelte-9qn7gh"><h2 class="svelte-9qn7gh"> </h2> <div class="cards svelte-9qn7gh"></div></section> <section class="svelte-9qn7gh"><h2 class="svelte-9qn7gh"> </h2> <div class="cards svelte-9qn7gh"></div></section></div>'),We=A('<!> <div class="demo-container svelte-9qn7gh"><h1 class="svelte-9qn7gh">MotionRepo WebApp Demo</h1> <!></div>',1);function Je(n,t){he(t,!1);let e=q([]),a=q([]),c=q([]),w=q(!0),$=q(null);pe(async()=>{try{y(w,!0);const[d,b,L]=await Promise.all([J.getWorkouts(1,3),J.getMotions(1,4),J.getAvatars(1,4)]);y(e,d.data||[]),y(a,b.data||[]),y(c,L.data||[])}catch(d){y($,d instanceof Error?d.message:"Failed to load data")}finally{y(w,!1)}}),fe();var O=We();_e(d=>{Ce.title="Demo - MotionRepo WebApp"});var _=ie(O);Te(_,{});var T=l(_,2),B=l(i(T),2);{var V=d=>{var b=Be();f(d,b)},X=d=>{var b=ge(),L=ie(b);{var be=P=>{var D=Pe(),S=l(i(D),2),W=i(S,!0);s(S),s(D),E(()=>u(W,r($))),f(P,D)},ke=P=>{var D=Le(),S=i(D),W=i(S),ye=i(W);s(W);var oe=l(W,2);ae(oe,5,()=>r(e),se,(Z,o)=>{var v=Se(),p=i(v),h=l(p,2),G=i(h,!0);s(h);var g=l(h,2),j=i(g,!0);s(g);var C=l(g,2),m=i(C),U=i(m,!0);s(m);var x=l(m,2),H=i(x);s(x),s(C),s(v),E(R=>{I(p,"src",R),I(p,"alt",r(o).name),u(G,r(o).name),u(j,r(o).description),u(U,r(o).difficulty),u(H,`${r(o).duration??""} min`)},[()=>re(r(o).screenshot,"workout",r(o).id)]),f(Z,v)}),s(oe),s(S);var z=l(S,2),ee=i(z),we=i(ee);s(ee);var ne=l(ee,2);ae(ne,5,()=>r(a),se,(Z,o)=>{var v=Ie(),p=i(v),h=l(p,2),G=i(h,!0);s(h);var g=l(h,2),j=i(g,!0);s(g);var C=l(g,2),m=i(C),U=i(m);s(m);var x=l(m,2),H=i(x);s(x),s(C),s(v),E(R=>{I(p,"src",R),I(p,"alt",r(o).name),u(G,r(o).name),u(j,r(o).description),u(U,`Level ${r(o).level??""}`),u(H,`${r(o).duration??""}s`)},[()=>re(r(o).screenshot,"motion",r(o).id)]),f(Z,v)}),s(ne),s(z);var le=l(z,2),te=i(le),Ae=i(te);s(te);var ce=l(te,2);ae(ce,5,()=>r(c),se,(Z,o)=>{var v=$e(),p=i(v),h=l(p,2),G=i(h,!0);s(h);var g=l(h,2),j=i(g,!0);s(g);var C=l(g,2),m=i(C),U=i(m,!0);s(m);var x=l(m,2),H=i(x,!0);s(x),s(C),s(v),E(R=>{I(p,"src",R),I(p,"alt",r(o).name),u(G,r(o).name),u(j,r(o).description),u(U,r(o).gender),u(H,r(o).categories?.[0])},[()=>re(r(o).screenshot,"avatar",r(o).id)]),f(Z,v)}),s(ce),s(le),s(D),E(()=>{u(ye,`Sample Workouts (${r(e).length??""})`),u(we,`Sample Motions (${r(a).length??""})`),u(Ae,`Sample Avatars (${r(c).length??""})`)}),f(P,D)};Q(L,P=>{r($)?P(be):P(ke,!1)},!0)}f(d,b)};Q(B,d=>{r(w)?d(V):d(X,!1)})}s(T),f(n,O),me()}export{Je as component};
