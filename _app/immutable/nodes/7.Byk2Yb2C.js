import"../chunks/DsnmJJEf.js";import"../chunks/BJB4Ptj-.js";import{o as Be,e as J,s as B}from"../chunks/DrQHHxrB.js";import{p as ae,f as l,d as c,a1 as K,_ as O,s as C,r as n,b as a,c as te,t as x,a as G,ap as Ce,ag as u,A as D,l as e,aq as Q,m as xe}from"../chunks/i1UHJtEQ.js";import{i as m}from"../chunks/DSE7bfqq.js";import{e as X,i as ee}from"../chunks/C7ZwHSTt.js";import{s as Ae}from"../chunks/BvzLYGN_.js";import{i as se}from"../chunks/BuUzJufj.js";import{a as Le}from"../chunks/Dkw99rV-.js";import{F as Se,S as Pe,M as $e}from"../chunks/CuQNFyog.js";import{s as re}from"../chunks/CF0yLBAV.js";import{p as qe}from"../chunks/B2yB9kBp.js";var De=l('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Me=l('<div class="body svelte-1s84j4"><!> <!></div>');function Te(I,M){ae(M,!1);let t=qe(M,"workout",8),A=[{id:"description",type:"textarea",label:"Description",values:[t().description||"N/A"]},{id:"file",type:"text",label:"File",values:[t().file||"N/A"]},{id:"categories",type:"tags",label:"Categories",values:t().categories||[]}];se();var g=Me(),p=c(g);{var _=L=>{var h=De(),S=c(h);n(h),x(()=>{re(S,"src",(K(t()),O(()=>t().screenshot))),re(S,"alt",(K(t()),O(()=>`[image of '${t().name||"Workout"}' is missing]`)))}),a(L,h)};m(p,L=>{K(t()),O(()=>t().screenshot)&&L(_)})}var T=C(p,2);Se(T,{get rows(){return A},readonly:!1}),n(g),a(I,g),te()}var We=l('<div class="loading svelte-1tke4h4">Loading workouts...</div>'),Fe=l('<div class="error svelte-1tke4h4"> </div>'),Re=l('<div class="no-results svelte-1tke4h4">No workouts found.</div>'),Ge=l("<span> </span>"),Ie=l('<span class="tag"> </span>'),Ne=l('<span class="tag"> </span>'),Ee=l('<div class="categories"></div>'),He=l('<div class="result-card svelte-1tke4h4" tabindex="0" role="button"><h3> </h3> <p> </p> <div class="workout-meta svelte-1tke4h4"><!> <!></div> <!></div>'),je=l('<div class="result-grid"><!></div>'),Ue=l("<!> <!>",1);function tr(I,M){ae(M,!1);let t=D([]),A=D(!0),g=D(null),p=D(null),_=D(!1);async function T(r="",P=0,f=20){try{u(A,!0),u(g,null);const v=new URLSearchParams;r&&v.append("search",r),P&&v.append("offset",P.toString()),f&&v.append("limit",f.toString());const d=await Le(`/workouts?${v}`);return Array.isArray(d)?d:d.workouts||d.items||d.data||[]}catch(v){return console.error("Error fetching workouts:",v),[{id:"1",name:"Full Body Strength",description:"A comprehensive full body workout focusing on strength building",difficulty:"Intermediate",duration:45,equipment:["Dumbbells","Barbell","Bench"],bodyParts:["Chest","Back","Legs","Shoulders","Arms"],muscleGroups:["Pectorals","Latissimus Dorsi","Quadriceps","Deltoids","Biceps","Triceps"],categories:["Strength","Full Body"],exercises:["Bench Press","Squats","Deadlifts","Shoulder Press","Bicep Curls"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-15T10:00:00Z",createdBy:"trainer1"},{id:"2",name:"HIIT Cardio Blast",description:"High-intensity interval training for maximum calorie burn",difficulty:"Advanced",duration:30,equipment:["None"],bodyParts:["Full Body"],muscleGroups:["Core","Legs","Glutes"],categories:["Cardio","HIIT"],exercises:["Burpees","Mountain Climbers","Jump Squats","High Knees","Plank Jacks"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-16T10:00:00Z",createdBy:"trainer2"},{id:"3",name:"Beginner Core Routine",description:"Gentle introduction to core strengthening exercises",difficulty:"Beginner",duration:20,equipment:["Yoga Mat"],bodyParts:["Core","Abs"],muscleGroups:["Rectus Abdominis","Obliques","Transverse Abdominis"],categories:["Core","Beginner"],exercises:["Plank","Crunches","Russian Twists","Leg Raises","Bird Dog"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-17T10:00:00Z",createdBy:"trainer1"}].filter(d=>!r||d.name?.toLowerCase().includes(r.toLowerCase())||d.description?.toLowerCase().includes(r.toLowerCase())||d.categories?.some(W=>W.toLowerCase().includes(r.toLowerCase())))}finally{u(A,!1)}}async function L(r){u(t,await T(r))}function h(r){u(p,r),u(_,!0)}function S(){u(_,!1),u(p,null)}function oe(r){r.key==="Escape"&&e(_)&&S()}Be(async()=>{u(t,await T())}),se();var Y=Ue();J("keydown",Ce,oe);var z=G(Y);Pe(z,{title:"Workouts",description:"Browse and search for workouts.",onSearch:L,children:(r,P)=>{var f=je(),v=c(f);{var d=y=>{var F=We();a(y,F)},W=y=>{var F=Q(),le=G(F);{var de=k=>{var b=Fe(),N=c(b);n(b),x(()=>B(N,`Error: ${e(g)??""}`)),a(k,b)},ce=k=>{var b=Q(),N=G(b);{var ve=w=>{var R=Re();a(w,R)},ue=w=>{var R=Q(),pe=G(R);X(pe,1,()=>e(t),ee,(fe,o)=>{var $=He(),E=c($),me=c(E,!0);n(E);var H=C(E,2),ge=c(H,!0);n(H);var j=C(H,2),V=c(j);{var _e=s=>{var i=Ge(),q=c(i,!0);n(i),x(U=>{Ae(i,1,`tag difficulty-${U??""}`,"svelte-1tke4h4"),B(q,e(o).difficulty)},[()=>e(o).difficulty.toLowerCase()]),a(s,i)};m(V,s=>{e(o).difficulty&&s(_e)})}var he=C(V,2);{var ye=s=>{var i=Ie(),q=c(i);n(i),x(()=>B(q,`${e(o).duration??""} min`)),a(s,i)};m(he,s=>{e(o).duration&&s(ye)})}n(j);var ke=C(j,2);{var be=s=>{var i=Ee();X(i,5,()=>e(o).categories,ee,(q,U)=>{var Z=Ne(),we=c(Z,!0);n(Z),x(()=>B(we,e(U))),a(q,Z)}),n(i),a(s,i)};m(ke,s=>{e(o).categories&&e(o).categories.length>0&&s(be)})}n($),x(()=>{B(me,e(o).name||"Unnamed Workout"),B(ge,e(o).description||"No description available.")}),J("click",$,()=>h(e(o))),J("keydown",$,s=>s.key==="Enter"&&h(e(o))),a(fe,$)}),a(w,R)};m(N,w=>{e(t).length===0?w(ve):w(ue,!1)},!0)}a(k,b)};m(le,k=>{e(g)?k(de):k(ce,!1)},!0)}a(y,F)};m(v,y=>{e(A)?y(d):y(W,!1)})}n(f),a(r,f)},$$slots:{default:!0}});var ie=C(z,2);{var ne=r=>{{let P=xe(()=>e(p).name??"Unknown");$e(r,{get title(){return e(P)},$$events:{close:S},children:(f,v)=>{Te(f,{get workout(){return e(p)}})},$$slots:{default:!0}})}};m(ie,r=>{e(_)&&e(p)&&r(ne)})}a(I,Y),te()}export{tr as component};
