import"../chunks/DsnmJJEf.js";import"../chunks/CDpiRAkj.js";import{s as A,e as ve,o as he}from"../chunks/Dfnk_7le.js";import{p as V,f as v,d as m,a1 as d,_ as u,s as _,r as c,b as i,c as Z,t as P,l as f,a as z,ax as _e,ag as y,A as G,aq as ce,m as ke}from"../chunks/CUEAen0f.js";import{i as x}from"../chunks/B_kiZDQ4.js";import{e as N,i as H}from"../chunks/Dtdogyub.js";import{i as ee}from"../chunks/cw9HsNIX.js";import{a as Fe}from"../chunks/Dkw99rV-.js";import{F as pe,S as xe,M as de}from"../chunks/DpT3ojFQ.js";import{s as ue}from"../chunks/6tPKXEvI.js";import{p as U}from"../chunks/BE9ruRDv.js";var Se=v('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Me=v('<div class="body svelte-1s84j4"><!> <!></div>');function Ce(L,S){V(S,!1);let e=U(S,"motion",12),w=[{id:"description",type:"textarea",label:"Description",values:[e().description||"N/A"]},{id:"file",type:"text",label:"File",values:[e().file||"N/A"]},{id:"fileType",type:"text",label:"File Type",values:[e().fileType||"N/A"]},{id:"level",type:"enum",label:"Level",values:["intermediate"],options:["beginner","intermediate","advanced"]},{id:"equipment",type:"tags",label:"Equipment",values:e().equipment||[],options:["KettleBell","Dumbbell"]},{id:"bodyParts",type:"tags",label:"Body Parts",values:e().bodyParts||[]},{id:"muscleGroups",type:"tags",label:"Muscle Groups",values:e().muscleGroups||[]},{id:"categories",type:"tags",label:"Categories",values:e().categories||[]},{id:"primaryJoints",type:"tags",label:"Primary Joints",values:e().primaryJoints||[]},{id:"labels",type:"tags",label:"Labels",values:e().labels||[]}];function k(p){p.forEach(l=>{switch(l.id){case"description":e(e().description=l.values[0]||"",!0);break;case"file":e(e().file=l.values[0]||"",!0);break;case"fileType":e(e().fileType=l.values[0]||"",!0);break;case"level":const M={beginner:1,intermediate:2,advanced:3};e(e().level=M[l.values[0]]||2,!0);break;case"equipment":e(e().equipment=l.values,!0);break;case"bodyParts":e(e().bodyParts=l.values,!0);break;case"muscleGroups":e(e().muscleGroups=l.values,!0);break;case"categories":e(e().categories=l.values,!0);break;case"primaryJoints":e(e().primaryJoints=l.values,!0);break;case"labels":e(e().labels=l.values,!0);break}}),console.log("Motion updated:",e()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(e(),null,2))}ee();var h=Me(),F=m(h);{var B=p=>{var l=Se(),M=m(l);c(l),P(()=>{ue(M,"src",(d(e()),u(()=>e().screenshot))),ue(M,"alt",(d(e()),u(()=>`[image of '${e().name||"Avatar"}' is missing]`)))}),i(p,l)};x(F,p=>{d(e()),u(()=>e().screenshot)&&p(B)})}var g=_(F,2);pe(g,{get rows(){return w},readonly:!1,onSubmit:k}),c(h),i(L,h),Z()}var we=v('<div class="body svelte-1bsh2eg"><!></div>');function Be(L,S){V(S,!1);let e=U(S,"onFilter",8),w=U(S,"selectedFilters",8),k=[{id:"level",type:"tags",label:"Level",values:w().filter(g=>g.startsWith("level:")).map(g=>g.replace("level:","")),options:["Beginner","Intermediate","Advanced","Expert"]},{id:"categories",type:"tags",label:"Categories",values:w().filter(g=>g.startsWith("category:")).map(g=>g.replace("category:","")),options:["Warm-up","Cool-down","Cardio","Strength","Flexibility","Balance"]}];function h(g){const p=[];g.forEach(l=>{l.id==="categories"?p.push(...(l.values||[]).map(M=>`category:${M}`)):l.id==="level"&&p.push(...(l.values||[]).map(M=>`level:${M}`))}),e()(p)}ee();var F=we(),B=m(F);pe(B,{get rows(){return k},onSubmit:g=>h(g),readonly:!1}),c(F),i(L,F),Z()}var Ae=v('<span class="file-type svelte-bbaftk"> </span>'),Pe=v('<span class="level svelte-bbaftk"> </span>'),$e=v('<span class="file-name svelte-bbaftk"> </span>'),qe=v('<span class="category svelte-bbaftk"> </span>'),Le=v('<div class="categories svelte-bbaftk"></div>'),Ge=v('<span class="body-part svelte-bbaftk"> </span>'),Ee=v('<div class="body-parts svelte-bbaftk"><strong class="svelte-bbaftk">Body Parts:</strong> <!></div>'),Je=v('<span class="muscle-group svelte-bbaftk"> </span>'),Te=v('<div class="muscle-groups svelte-bbaftk"><strong class="svelte-bbaftk">Muscle Groups:</strong> <!></div>'),Ne=v('<span class="equip svelte-bbaftk"> </span>'),He=v('<div class="equipment svelte-bbaftk"><strong class="svelte-bbaftk">Equipment:</strong> <!></div>'),We=v('<span class="label svelte-bbaftk"> </span>'),De=v('<div class="labels svelte-bbaftk"></div>'),Ke=v('<div class="result-card" role="button" tabindex="0"><h3 class="svelte-bbaftk"> </h3> <p class="svelte-bbaftk"> </p> <div class="motion-details svelte-bbaftk"><!> <!> <!></div> <!> <!> <!> <!> <!></div>');function Ue(L,S){V(S,!1);let e=U(S,"motion",8),w=U(S,"onClick",8);ee();var k=Ke(),h=m(k),F=m(h,!0);c(h);var B=_(h,2),g=m(B,!0);c(B);var p=_(B,2),l=m(p);{var M=a=>{var t=Ae(),o=m(t,!0);c(t),P(()=>A(o,(d(e()),u(()=>e().fileType)))),i(a,t)};x(l,a=>{d(e()),u(()=>e().fileType)&&a(M)})}var R=_(l,2);{var W=a=>{var t=Pe(),o=m(t);c(t),P(()=>A(o,`Level ${d(e()),u(()=>e().level)??""}`)),i(a,t)};x(R,a=>{d(e()),u(()=>e().level!==void 0)&&a(W)})}var te=_(R,2);{var ae=a=>{var t=$e(),o=m(t,!0);c(t),P(()=>A(o,(d(e()),u(()=>e().file)))),i(a,t)};x(te,a=>{d(e()),u(()=>e().file)&&a(ae)})}c(p);var D=_(p,2);{var se=a=>{var t=Le();N(t,5,()=>(d(e()),u(()=>e().categories)),H,(o,n)=>{var s=qe(),r=m(s,!0);c(s),P(()=>A(r,f(n))),i(o,s)}),c(t),i(a,t)};x(D,a=>{d(e()),u(()=>e().categories&&e().categories.length>0)&&a(se)})}var E=_(D,2);{var j=a=>{var t=Ee(),o=_(m(t),2);N(o,1,()=>(d(e()),u(()=>e().bodyParts)),H,(n,s)=>{var r=Ge(),C=m(r,!0);c(r),P(()=>A(C,f(s))),i(n,r)}),c(t),i(a,t)};x(E,a=>{d(e()),u(()=>e().bodyParts&&e().bodyParts.length>0)&&a(j)})}var X=_(E,2);{var I=a=>{var t=Te(),o=_(m(t),2);N(o,1,()=>(d(e()),u(()=>e().muscleGroups)),H,(n,s)=>{var r=Je(),C=m(r,!0);c(r),P(()=>A(C,f(s))),i(n,r)}),c(t),i(a,t)};x(X,a=>{d(e()),u(()=>e().muscleGroups&&e().muscleGroups.length>0)&&a(I)})}var K=_(X,2);{var Q=a=>{var t=He(),o=_(m(t),2);N(o,1,()=>(d(e()),u(()=>e().equipment)),H,(n,s)=>{var r=Ne(),C=m(r,!0);c(r),P(()=>A(C,f(s))),i(n,r)}),c(t),i(a,t)};x(K,a=>{d(e()),u(()=>e().equipment&&e().equipment.length>0)&&a(Q)})}var re=_(K,2);{var le=a=>{var t=De();N(t,5,()=>(d(e()),u(()=>e().labels)),H,(o,n)=>{var s=We(),r=m(s,!0);c(s),P(()=>A(r,f(n))),i(o,s)}),c(t),i(a,t)};x(re,a=>{d(e()),u(()=>e().labels&&e().labels.length>0)&&a(le)})}c(k),P(()=>{A(F,(d(e()),u(()=>e().name||"Unnamed Motion"))),A(g,(d(e()),u(()=>e().description||"No description available.")))}),ve("click",k,()=>w()(e())),ve("keydown",k,a=>a.key==="Enter"&&w()(e())),i(L,k),Z()}var Re=v('<div class="loading">Loading motions...</div>'),je=v('<div class="error"> </div>'),Xe=v('<div class="no-results">No motions found.</div>'),Ie=v('<div class="result-grid svelte-7ud0p1"><!></div>'),Qe=v("<!> <!> <!>",1);function ot(L,S){V(S,!1);let e=G([]),w=[],k=G(!0),h=G(null),F=G(null),B=G(!1),g=G(!1),p=G([]),l="";async function M(t="",o=0,n=20){try{y(k,!0),y(h,null);const s=new URLSearchParams;t&&s.append("search",t),o&&s.append("offset",o.toString()),n&&s.append("limit",n.toString()),console.log("Fetching motions with params:",s.toString());const r=await Fe(`/motions?${s}`);console.log("Received motions data:",r);const C=Array.isArray(r)?r:r.motions||r.items||r.data||[];return console.log("Processed motions array:",C),C}catch(s){return console.error("Error fetching motions:",s),console.warn("Using mock data for development"),[{id:"1",name:"Walking Motion",description:"Natural walking cycle for human characters",file:"walking_motion.fbx",fileType:"FBX",level:1,equipment:["None"],bodyParts:["Legs","Arms","Core"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes"],categories:["Locomotion","Basic"],primaryJoints:["Hip","Knee","Ankle","Shoulder"],labels:["natural","locomotion","cycle","human"],screenshot:"/api/placeholder/400/300"},{id:"2",name:"Running Sprint",description:"High-intensity sprinting motion for athletic characters",file:"running_sprint.fbx",fileType:"FBX",level:3,equipment:["Running Shoes"],bodyParts:["Legs","Arms","Core","Full Body"],muscleGroups:["Quadriceps","Hamstrings","Calves","Glutes","Core"],categories:["Locomotion","Athletic","High Intensity"],primaryJoints:["Hip","Knee","Ankle","Elbow","Shoulder"],labels:["sprint","athletic","high-energy","sport"],screenshot:"/api/placeholder/400/300"},{id:"3",name:"Boxing Jab Cross",description:"Basic boxing combination with jab and cross punches",file:"boxing_combo.fbx",fileType:"FBX",level:2,equipment:["Boxing Gloves"],bodyParts:["Arms","Shoulders","Core","Legs"],muscleGroups:["Deltoids","Biceps","Triceps","Core","Legs"],categories:["Combat","Upper Body","Athletic"],primaryJoints:["Shoulder","Elbow","Wrist","Hip","Knee"],labels:["boxing","combat","striking","combination"],screenshot:"/api/placeholder/400/300"},{id:"4",name:"Yoga Sun Salutation",description:"Flowing yoga sequence connecting breath with movement",file:"yoga_sun_salutation.fbx",fileType:"FBX",level:2,equipment:["Yoga Mat"],bodyParts:["Full Body","Arms","Legs","Core"],muscleGroups:["Full Body","Core","Shoulders","Legs"],categories:["Yoga","Flexibility","Wellness"],primaryJoints:["Spine","Shoulder","Hip","Knee","Ankle"],labels:["yoga","flow","wellness","flexibility"],screenshot:"/api/placeholder/400/300"}]}}function R(t,o,n){const s=o.toLowerCase(),r=n.filter(b=>b.startsWith("category:")).map(b=>b.replace("category:","")),C=n.filter(b=>b.startsWith("level:")).map(b=>b.replace("level:",""));return t.filter(b=>{const J=!o||(b.name?.toLowerCase().includes(s)??!1)||(b.description?.toLowerCase().includes(s)??!1),oe=r.length===0||r.every($=>b.categories?.includes($)??!1),ie={Beginner:1,Intermediate:2,Advanced:3,Expert:4},Y=C.map($=>ie[$]).filter(Boolean),q=Y.length===0||Y.includes(b.level??0);return J&&oe&&q})}async function W(){y(k,!0),y(h,null);try{w.length===0&&(w=await M()),y(e,R(w,l,f(p)))}catch(t){y(h,t.message)}finally{y(k,!1)}}async function te(t){l=t,await W()}function ae(t){y(F,t),y(B,!0)}function D(){y(B,!1),y(F,null)}function se(){y(g,!0)}function E(){y(g,!1)}function j(t){y(p,t),E(),W()}function X(t){t.key==="Escape"&&(D(),E())}he(async()=>{await W()}),ee();var I=Qe();ve("keydown",_e,X);var K=z(I);xe(K,{title:"Motions",description:"Browse and search for motions.",onSearch:te,onFilterClick:se,get selectedFilters(){return f(p)},set selectedFilters(t){y(p,t)},$$events:{filterChanged:t=>{y(p,t.detail),j(t.detail)}},children:(t,o)=>{var n=Ie(),s=m(n);{var r=b=>{var J=Re();i(b,J)},C=b=>{var J=ce(),oe=z(J);{var ie=q=>{var $=je(),ne=m($);c($),P(()=>A(ne,`Error: ${f(h)??""}`)),i(q,$)},Y=q=>{var $=ce(),ne=z($);{var me=T=>{var O=Xe();i(T,O)},fe=T=>{var O=ce(),ge=z(O);N(ge,1,()=>f(e),H,(be,ye)=>{Ue(be,{get motion(){return f(ye)},onClick:ae})}),i(T,O)};x(ne,T=>{f(e).length===0?T(me):T(fe,!1)},!0)}i(q,$)};x(oe,q=>{f(h)?q(ie):q(Y,!1)},!0)}i(b,J)};x(s,b=>{f(k)?b(r):b(C,!1)})}c(n),i(t,n)},$$slots:{default:!0},$$legacy:!0});var Q=_(K,2);{var re=t=>{{let o=ke(()=>f(F).name??"Unknown");de(t,{get title(){return f(o)},$$events:{close:D},children:(n,s)=>{Ce(n,{get motion(){return f(F)}})},$$slots:{default:!0}})}};x(Q,t=>{f(B)&&f(F)&&t(re)})}var le=_(Q,2);{var a=t=>{de(t,{title:"Filter Motions",$$events:{close:E},children:(o,n)=>{Be(o,{get selectedFilters(){return f(p)},onFilter:j})},$$slots:{default:!0}})};x(le,t=>{f(g)&&t(a)})}i(L,I),Z()}export{ot as component};
