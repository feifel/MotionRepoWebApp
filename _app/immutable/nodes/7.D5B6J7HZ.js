import"../chunks/DsnmJJEf.js";import"../chunks/CDpiRAkj.js";import{s as ee,e as te,o as _e}from"../chunks/Dfnk_7le.js";import{p as U,f as F,d as B,a1 as k,_ as b,s as x,r as C,b as v,c as H,t as re,l,m as ne,a as G,ax as we,ag as o,A as L,aq as V}from"../chunks/CUEAen0f.js";import{i as S}from"../chunks/B_kiZDQ4.js";import{e as ce,i as de}from"../chunks/Dtdogyub.js";import{i as J}from"../chunks/cw9HsNIX.js";import{a as Ce}from"../chunks/Dkw99rV-.js";import{F as ue,T as X,S as Fe,M as oe}from"../chunks/C6y3NVlG.js";import{s as le}from"../chunks/6tPKXEvI.js";import{p as E}from"../chunks/BE9ruRDv.js";var Se=F('<div class="screenshot-container svelte-1s84j4"><img class="screenshot svelte-1s84j4"/></div>'),Be=F('<div class="body svelte-1s84j4"><!> <!></div>');function Ae(A,g){U(g,!1);let e=E(g,"workout",12),y=[{id:"description",type:"textarea",label:"Description",values:[e().description||"N/A"]},{id:"file",type:"text",label:"File",values:[e().file||"N/A"]},{id:"categories",type:"tags",label:"Categories",values:e().categories||[]}];function c(r){r.forEach(s=>{switch(s.id){case"description":e(e().description=s.values[0]||"",!0);break;case"file":e(e().file=s.values[0]||"",!0);break;case"categories":e(e().categories=s.values,!0);break}}),console.log("Workout updated:",e()),alert(`Submit is not yet implemented

JSON Data:
`+JSON.stringify(e(),null,2))}J();var d=Be(),u=B(d);{var h=r=>{var s=Se(),_=B(s);C(s),re(()=>{le(_,"src",(k(e()),b(()=>e().screenshot))),le(_,"alt",(k(e()),b(()=>`[image of '${e().name||"Workout"}' is missing]`)))}),v(r,s)};S(u,r=>{k(e()),b(()=>e().screenshot)&&r(h)})}var a=x(u,2);ue(a,{get rows(){return y},readonly:!1,onSubmit:c}),C(d),v(A,d),H()}var We=F('<div class="body svelte-1bsh2eg"><!></div>');function $e(A,g){U(g,!1);let e=E(g,"onFilter",8),y=E(g,"selectedFilters",8),c=[{id:"difficulty",type:"tags",label:"Difficulty",values:y().filter(a=>a.startsWith("difficulty:")).map(a=>a.replace("difficulty:","")),options:["Beginner","Intermediate","Advanced"]},{id:"categories",type:"tags",label:"Categories",values:y().filter(a=>a.startsWith("category:")).map(a=>a.replace("category:","")),options:["Full Body","Upper Body","Lower Body","Core","Cardio","Strength"]}];function d(a){const r=[];a.forEach(s=>{s.id==="categories"?r.push(...(s.values||[]).map(_=>`category:${_}`)):s.id==="difficulty"&&r.push(...(s.values||[]).map(_=>`difficulty:${_}`))}),e()(r)}J();var u=We(),h=B(u);ue(h,{get rows(){return c},onSubmit:a=>d(a),readonly:!1}),C(u),v(A,u),H()}var Le=F('<div class="categories"></div>'),xe=F('<div class="result-card" tabindex="0" role="button"><h3> </h3> <p> </p> <div class="workout-meta"><!> <!></div> <!></div>');function Pe(A,g){U(g,!1);let e=E(g,"workout",8),y=E(g,"onClick",8);J();var c=xe(),d=B(c),u=B(d,!0);C(d);var h=x(d,2),a=B(h,!0);C(h);var r=x(h,2),s=B(r);{var _=n=>{X(n,{get tag(){return k(e()),b(()=>e().difficulty)},readonly:!0})};S(s,n=>{k(e()),b(()=>e().difficulty)&&n(_)})}var j=x(s,2);{var q=n=>{{let W=ne(()=>(k(e()),b(()=>`${e().duration} min`)));X(n,{get tag(){return l(W)},readonly:!0})}};S(j,n=>{k(e()),b(()=>e().duration)&&n(q)})}C(r);var z=x(r,2);{var O=n=>{var W=Le();ce(W,5,()=>(k(e()),b(()=>e().categories)),de,(N,I)=>{X(N,{get tag(){return l(I)},readonly:!0})}),C(W),v(n,W)};S(z,n=>{k(e()),b(()=>e().categories&&e().categories.length>0)&&n(O)})}C(c),re(()=>{ee(u,(k(e()),b(()=>e().name||"Unnamed Workout"))),ee(a,(k(e()),b(()=>e().description||"No description available.")))}),te("click",c,()=>y()(e())),te("keydown",c,n=>n.key==="Enter"&&y()(e())),v(A,c),H()}var De=F('<div class="loading svelte-107itfz">Loading workouts...</div>'),Me=F('<div class="error svelte-107itfz"> </div>'),Te=F('<div class="no-results svelte-107itfz">No workouts found.</div>'),qe=F('<div class="result-grid"><!></div>'),Ne=F("<!> <!> <!>",1);function Ke(A,g){U(g,!1);let e=L([]),y=[],c=L(!0),d=L(null),u=L(null),h=L(!1),a=L(!1),r=L([]),s="";async function _(t="",w=0,m=20){try{o(c,!0),o(d,null);const p=new URLSearchParams;t&&p.append("search",t),w&&p.append("offset",w.toString()),m&&p.append("limit",m.toString());const f=await Ce(`/workouts?${p}`);return Array.isArray(f)?f:f.workouts||f.items||f.data||[]}catch(p){return console.error("Error fetching workouts:",p),[{id:"1",name:"Full Body Strength",description:"A comprehensive full body workout focusing on strength building",difficulty:"Intermediate",duration:45,equipment:["Dumbbells","Barbell","Bench"],bodyParts:["Chest","Back","Legs","Shoulders","Arms"],muscleGroups:["Pectorals","Latissimus Dorsi","Quadriceps","Deltoids","Biceps","Triceps"],categories:["Strength","Full Body"],exercises:["Bench Press","Squats","Deadlifts","Shoulder Press","Bicep Curls"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-15T10:00:00Z",createdBy:"trainer1"},{id:"2",name:"HIIT Cardio Blast",description:"High-intensity interval training for maximum calorie burn",difficulty:"Advanced",duration:30,equipment:["None"],bodyParts:["Full Body"],muscleGroups:["Core","Legs","Glutes"],categories:["Cardio","HIIT"],exercises:["Burpees","Mountain Climbers","Jump Squats","High Knees","Plank Jacks"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-16T10:00:00Z",createdBy:"trainer2"},{id:"3",name:"Beginner Core Routine",description:"Gentle introduction to core strengthening exercises",difficulty:"Beginner",duration:20,equipment:["Yoga Mat"],bodyParts:["Core","Abs"],muscleGroups:["Rectus Abdominis","Obliques","Transverse Abdominis"],categories:["Core","Beginner"],exercises:["Plank","Crunches","Russian Twists","Leg Raises","Bird Dog"],screenshot:"/api/placeholder/400/300",createdAt:"2024-01-17T10:00:00Z",createdBy:"trainer1"}].filter(f=>!t||f.name?.toLowerCase().includes(t.toLowerCase())||f.description?.toLowerCase().includes(t.toLowerCase())||f.categories?.some($=>$.toLowerCase().includes(t.toLowerCase())))}finally{o(c,!1)}}function j(t,w,m){const p=w.toLowerCase(),f=m.filter(i=>i.startsWith("category:")).map(i=>i.replace("category:","")),$=m.filter(i=>i.startsWith("difficulty:")).map(i=>i.replace("difficulty:",""));return t.filter(i=>{const P=!w||(i.name?.toLowerCase().includes(p)??!1)||(i.description?.toLowerCase().includes(p)??!1),Z=f.length===0||f.every(Q=>i.categories?.includes(Q)??!1),K=$.length===0||$.includes(i.difficulty??"");return P&&Z&&K})}async function q(){o(c,!0),o(d,null);try{y.length===0&&(y=await _()),o(e,j(y,s,l(r)))}catch(t){o(d,t.message)}finally{o(c,!1)}}async function z(t){s=t,await q()}function O(t){o(u,t),o(h,!0)}function n(){o(h,!1),o(u,null)}function W(){o(a,!0)}function N(){o(a,!1)}function I(t){o(r,t),N(),q()}function fe(t){t.key==="Escape"&&(n(),N())}_e(async()=>{await q()}),J();var ae=Ne();te("keydown",we,fe);var se=G(ae);Fe(se,{title:"Workouts",description:"Browse and search for workouts.",onSearch:z,onFilterClick:W,get selectedFilters(){return l(r)},set selectedFilters(t){o(r,t)},$$events:{filterChanged:t=>{o(r,t.detail),I(t.detail)}},children:(t,w)=>{var m=qe(),p=B(m);{var f=i=>{var P=De();v(i,P)},$=i=>{var P=V(),Z=G(P);{var K=D=>{var M=Me(),Y=B(M);C(M),re(()=>ee(Y,`Error: ${l(d)??""}`)),v(D,M)},Q=D=>{var M=V(),Y=G(M);{var pe=T=>{var R=Te();v(T,R)},ye=T=>{var R=V(),he=G(R);ce(he,1,()=>l(e),de,(ke,be)=>{Pe(ke,{get workout(){return l(be)},onClick:O})}),v(T,R)};S(Y,T=>{l(e).length===0?T(pe):T(ye,!1)},!0)}v(D,M)};S(Z,D=>{l(d)?D(K):D(Q,!1)},!0)}v(i,P)};S(p,i=>{l(c)?i(f):i($,!1)})}C(m),v(t,m)},$$slots:{default:!0},$$legacy:!0});var ie=x(se,2);{var ve=t=>{{let w=ne(()=>l(u).name??"Unknown");oe(t,{get title(){return l(w)},$$events:{close:n},children:(m,p)=>{Ae(m,{get workout(){return l(u)}})},$$slots:{default:!0}})}};S(ie,t=>{l(h)&&l(u)&&t(ve)})}var ge=x(ie,2);{var me=t=>{oe(t,{title:"Filter Workouts",$$events:{close:N},children:(w,m)=>{$e(w,{get selectedFilters(){return l(r)},onFilter:I})},$$slots:{default:!0}})};S(ge,t=>{l(a)&&t(me)})}v(A,ae),H()}export{Ke as component};
